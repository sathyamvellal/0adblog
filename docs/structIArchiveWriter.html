<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pyrogenesis: IArchiveWriter Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pyrogenesis
   &#160;<span id="projectnumber">13997</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structIArchiveWriter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IArchiveWriter Struct Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="archive_8h_source.html">archive.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IArchiveWriter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structIArchiveWriter.png" usemap="#IArchiveWriter_map" alt=""/>
  <map id="IArchiveWriter_map" name="IArchiveWriter_map">
<area href="classArchiveWriter__Zip.html" alt="ArchiveWriter_Zip" shape="rect" coords="0,56,117,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53cf30dc742cc8adea941bac7cfa8a49"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIArchiveWriter.html#a53cf30dc742cc8adea941bac7cfa8a49">~IArchiveWriter</a> ()</td></tr>
<tr class="memdesc:a53cf30dc742cc8adea941bac7cfa8a49"><td class="mdescLeft">&#160;</td><td class="mdescRight">write out the archive to disk; only hereafter is it valid.  <a href="#a53cf30dc742cc8adea941bac7cfa8a49">More...</a><br/></td></tr>
<tr class="separator:a53cf30dc742cc8adea941bac7cfa8a49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab718f885be18f1140aa18a86771b9fc4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="status_8h.html#af86dce5ae46a850945a95cfbdcaacd9c">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIArchiveWriter.html#ab718f885be18f1140aa18a86771b9fc4">AddFile</a> (const <a class="el" href="os__path_8h.html#afbdfc0321eb07cbab1953913ee9cd17c">OsPath</a> &amp;pathname, const <a class="el" href="classPath.html">Path</a> &amp;pathnameInArchive)=0</td></tr>
<tr class="memdesc:ab718f885be18f1140aa18a86771b9fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a file to the archive.  <a href="#ab718f885be18f1140aa18a86771b9fc4">More...</a><br/></td></tr>
<tr class="separator:ab718f885be18f1140aa18a86771b9fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a6c7daf6c0201d8dd3fd9acee473b6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="status_8h.html#af86dce5ae46a850945a95cfbdcaacd9c">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIArchiveWriter.html#ad0a6c7daf6c0201d8dd3fd9acee473b6">AddMemory</a> (const <a class="el" href="types_8h.html#af3b86d961da0a3575b4f99c9ffaf01fd">u8</a> *data, size_t size, time_t mtime, const <a class="el" href="os__path_8h.html#afbdfc0321eb07cbab1953913ee9cd17c">OsPath</a> &amp;pathnameInArchive)=0</td></tr>
<tr class="memdesc:ad0a6c7daf6c0201d8dd3fd9acee473b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">add a file to the archive, when it is already in memory and not on disk.  <a href="#ad0a6c7daf6c0201d8dd3fd9acee473b6">More...</a><br/></td></tr>
<tr class="separator:ad0a6c7daf6c0201d8dd3fd9acee473b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="archive_8h_source.html#l00073">73</a> of file <a class="el" href="archive_8h_source.html">archive.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a53cf30dc742cc8adea941bac7cfa8a49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IArchiveWriter::~IArchiveWriter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>write out the archive to disk; only hereafter is it valid. </p>

<p>Definition at line <a class="el" href="archive_8cpp_source.html#l00040">40</a> of file <a class="el" href="archive_8cpp_source.html">archive.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab718f885be18f1140aa18a86771b9fc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="status_8h.html#af86dce5ae46a850945a95cfbdcaacd9c">Status</a> IArchiveWriter::AddFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="os__path_8h.html#afbdfc0321eb07cbab1953913ee9cd17c">OsPath</a> &amp;&#160;</td>
          <td class="paramname"><em>pathname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPath.html">Path</a> &amp;&#160;</td>
          <td class="paramname"><em>pathnameInArchive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>add a file to the archive. </p>
<p>rationale: passing in a filename instead of the compressed file contents makes for better encapsulation because callers don't need to know about the codec. one disadvantage is that loading the file contents can no longer take advantage of the <a class="el" href="classVFS.html">VFS</a> cache nor previously archived versions. however, the archive builder usually adds files precisely because they aren't in archives, and the cache would thrash anyway, so this is deemed acceptable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pathname</td><td>the actual file to add </td></tr>
    <tr><td class="paramname">pathnameInArchive</td><td>the name to store in the archive </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classArchiveWriter__Zip.html#ab1bedc67470227a1c702cbf73a640449">ArchiveWriter_Zip</a>.</p>

</div>
</div>
<a class="anchor" id="ad0a6c7daf6c0201d8dd3fd9acee473b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="status_8h.html#af86dce5ae46a850945a95cfbdcaacd9c">Status</a> IArchiveWriter::AddMemory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#af3b86d961da0a3575b4f99c9ffaf01fd">u8</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>mtime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="os__path_8h.html#afbdfc0321eb07cbab1953913ee9cd17c">OsPath</a> &amp;&#160;</td>
          <td class="paramname"><em>pathnameInArchive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>add a file to the archive, when it is already in memory and not on disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the uncompressed file contents to add </td></tr>
    <tr><td class="paramname">size</td><td>the length of data </td></tr>
    <tr><td class="paramname">mtime</td><td>the last-modified-time to be stored in the archive </td></tr>
    <tr><td class="paramname">pathnameInArchive</td><td>the name to store in the archive </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classArchiveWriter__Zip.html#ae56e22ebc7820e5f9c5335d7e737e6f4">ArchiveWriter_Zip</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/home/sathyam/0ad.svn/source/lib/file/archive/<a class="el" href="archive_8h_source.html">archive.h</a></li>
<li>/home/sathyam/0ad.svn/source/lib/file/archive/<a class="el" href="archive_8cpp_source.html">archive.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 00:58:13 for Pyrogenesis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
