<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pyrogenesis: /home/sathyam/0ad.svn/source/graphics/ModelDef.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pyrogenesis
   &#160;<span id="projectnumber">13997</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_f61e62a0933c4867ad0b16a48109b05b.html">graphics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ModelDef.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ModelDef_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (C) 2011 Wildfire Games.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of 0 A.D.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * 0 A.D. is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation, either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * 0 A.D. is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with 0 A.D.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * Defines a raw 3d model.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef INCLUDED_MODELDEF</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_MODELDEF</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CStr_8h.html">ps/CStr.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Vector2D_8h.html">maths/Vector2D.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Vector3D_8h.html">maths/Vector3D.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Quaternion_8h.html">maths/Quaternion.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vfs__path_8h.html">lib/file/vfs/vfs_path.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VertexArray_8h.html">renderer/VertexArray.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">class </span><a class="code" href="classCBoneState.html">CBoneState</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * Describes the position of a prop point within its parent model. A prop point is the location within a parent model</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * where the prop&#39;s origin will be attached.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * A prop point is specified by its transformation matrix (or separately by its position and rotation), which</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * can be relative to either the parent model&#39;s origin, or one of the parent&#39;s bones. If the parent model is boned, </span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * then the @ref m_BoneIndex field may specify a bone to which the transformation matrix is relative (see </span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> * @ref CModel::m_BoneMatrices). Otherwise, the transformation matrix is assumed to be relative to the parent model&#39;s </span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * origin.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * </span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * @see CModel::m_BoneMatrices</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structSPropPoint.html">   48</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSPropPoint.html">SPropPoint</a></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{<span class="comment"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    /// Name of the prop point</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="structSPropPoint.html#a2c22ac3d17de0eda9c44119f44b87382">   51</a></span>&#160;<span class="comment"></span>    CStr <a class="code" href="structSPropPoint.html#a2c22ac3d17de0eda9c44119f44b87382">m_Name</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">     * Position of the point within the parent model, relative to either the parent model&#39;s origin or one of the parent </span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">     * model&#39;s bones if applicable. Also specified as part of @ref m_Transform.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     * @see m_Transform</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structSPropPoint.html#a2d2c726d722038efcad2eaf0c7d951a0">   58</a></span>&#160;    <a class="code" href="classCVector3D.html">CVector3D</a> <a class="code" href="structSPropPoint.html#a2d2c726d722038efcad2eaf0c7d951a0">m_Position</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">     * Rotation of the prop model that will be attached at this point. Also specified as part of @ref m_Transform.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">     * @see m_Transform</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="structSPropPoint.html#a6c0581b6ee883fb28f032d909fa924ee">   64</a></span>&#160;    <a class="code" href="classCQuaternion.html">CQuaternion</a> <a class="code" href="structSPropPoint.html#a6c0581b6ee883fb28f032d909fa924ee">m_Rotation</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     * Object to parent space transformation. Combines both @ref m_Position and @ref m_Rotation in a single</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">     * transformation matrix. This transformation is relative to either the parent model&#39;s origin, or one of its</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">     * bones, depending on whether it is skeletal. If relative to a bone, then the bone in the parent model to</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     * which this transformation is relative may be found by m_BoneIndex.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * @see m_Position, m_Rotation</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="structSPropPoint.html#abeeebc923afd784fb37c5f533221c18b">   73</a></span>&#160;    <a class="code" href="classCMatrix3D.html">CMatrix3D</a> <a class="code" href="structSPropPoint.html#abeeebc923afd784fb37c5f533221c18b">m_Transform</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * Index of parent bone to which this prop point is relative, if any. The value 0xFF specifies that either the parent</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     * model is unboned, or that this prop point is relative to the parent model&#39;s origin rather than one if its bones.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="structSPropPoint.html#a1b3faffd988edb3dd311f7866507bfd9">   79</a></span>&#160;    <a class="code" href="types_8h.html#af3b86d961da0a3575b4f99c9ffaf01fd">u8</a> <a class="code" href="structSPropPoint.html#a1b3faffd988edb3dd311f7866507bfd9">m_BoneIndex</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;};</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"></span><span class="comment">// SVertexBlend: structure containing the necessary data for blending vertices </span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">// with multiple bones </span></div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structSVertexBlend.html">   85</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSVertexBlend.html">SVertexBlend</a></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structSVertexBlend.html#ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261">   87</a></span>&#160;    <span class="keyword">enum</span> { <a class="code" href="structSVertexBlend.html#ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261">SIZE</a> = 4 };</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// index of the influencing bone, or 0xff if none</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">   89</a></span>&#160;    <a class="code" href="types_8h.html#af3b86d961da0a3575b4f99c9ffaf01fd">u8</a> <a class="code" href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">m_Bone</a>[<a class="code" href="structSVertexBlend.html#ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261">SIZE</a>];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// weight of the influence; all weights sum to 1</span></div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">   91</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">m_Weight</a>[<a class="code" href="structSVertexBlend.html#ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261">SIZE</a>];</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structSVertexBlend.html#a0243612b1b9facc1615fbd6528336509">   93</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structSVertexBlend.html#a0243612b1b9facc1615fbd6528336509">operator==</a>(<span class="keyword">const</span> <a class="code" href="structSVertexBlend.html">SVertexBlend</a>&amp; o)<span class="keyword"> const</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">return</span> !memcmp(<a class="code" href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">m_Bone</a>, o.<a class="code" href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">m_Bone</a>, <span class="keyword">sizeof</span>(<a class="code" href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">m_Bone</a>)) &amp;&amp; !memcmp(<a class="code" href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">m_Weight</a>, o.<a class="code" href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">m_Weight</a>, <span class="keyword">sizeof</span>(<a class="code" href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">m_Weight</a>));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;};</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span><span class="comment">// SModelVertex: structure containing per-vertex data</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structSModelVertex.html">  101</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSModelVertex.html">SModelVertex</a></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// vertex position</span></div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structSModelVertex.html#aa8a249bef3dfa9c07532089cf7ba4a62">  104</a></span>&#160;    <a class="code" href="classCVector3D.html">CVector3D</a> <a class="code" href="structSModelVertex.html#aa8a249bef3dfa9c07532089cf7ba4a62">m_Coords</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// vertex normal</span></div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structSModelVertex.html#a403ea6a88f906714872fc92c163808ac">  106</a></span>&#160;    <a class="code" href="classCVector3D.html">CVector3D</a> <a class="code" href="structSModelVertex.html#a403ea6a88f906714872fc92c163808ac">m_Norm</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// vertex UVs</span></div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="structSModelVertex.html#aafc54b0872c873b74f67e66b069b8e68">  108</a></span>&#160;    std::vector&lt;float&gt; <a class="code" href="structSModelVertex.html#aafc54b0872c873b74f67e66b069b8e68">m_UVs</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// vertex blend data</span></div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structSModelVertex.html#adc5ac749582bde3a9091e2bde0800258">  110</a></span>&#160;    <a class="code" href="structSVertexBlend.html">SVertexBlend</a> <a class="code" href="structSModelVertex.html#adc5ac749582bde3a9091e2bde0800258">m_Blend</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;};</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">///////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span><span class="comment">// SModelFace: structure containing per-face data</span></div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structSModelFace.html">  116</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structSModelFace.html">SModelFace</a></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// indices of the 3 vertices on this face</span></div>
<div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="structSModelFace.html#ae407634eda523b6a23acda023b0b2ee4">  119</a></span>&#160;    <a class="code" href="types_8h.html#a2b19d553290a8d4a083d3c03280ea800">u16</a> <a class="code" href="structSModelFace.html#ae407634eda523b6a23acda023b0b2ee4">m_Verts</a>[3];</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;};</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span><span class="comment">// CModelDefRPrivate</span></div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="classCModelDefRPrivate.html">  125</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCModelDefRPrivate.html">CModelDefRPrivate</a></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classCModelDefRPrivate.html#aaffe10e6aef63017ad30f7cb41e0afa7">  128</a></span>&#160;    <a class="code" href="classCModelDefRPrivate.html#aaffe10e6aef63017ad30f7cb41e0afa7">CModelDefRPrivate</a>() { }</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classCModelDefRPrivate.html#ab6abb932d199e6cd29f9235e6cc7c0d4">  129</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classCModelDefRPrivate.html#ab6abb932d199e6cd29f9235e6cc7c0d4">~CModelDefRPrivate</a>() { }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;};</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">////////////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"></span><span class="comment">// CModelDef: a raw 3D model; describes the vertices, faces, skinning and skeletal </span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">// information of a model</span></div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classCModelDef.html">  136</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCModelDef.html">CModelDef</a></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <a class="code" href="classCModelDef.html#aac593e358058b88b3ac717a3ad8e12c6">NONCOPYABLE</a>(<a class="code" href="classCModelDef.html">CModelDef</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// current file version given to saved animations</span></div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classCModelDef.html#a8765fbbaa54a09053ae860deb4df1db8af996c74f43ed97f93ced327fc8468098">  142</a></span>&#160;    <span class="keyword">enum</span> { <a class="code" href="classCModelDef.html#a8765fbbaa54a09053ae860deb4df1db8af996c74f43ed97f93ced327fc8468098">FILE_VERSION</a> = 3 };</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// supported file read version - files with a version less than this will be rejected</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="classCModelDef.html#ae708f8729a34a76929e9d0344f4b0b14a75d76a1a550fc4edcb890d78999d52f1">  144</a></span>&#160;    <span class="keyword">enum</span> { <a class="code" href="classCModelDef.html#ae708f8729a34a76929e9d0344f4b0b14a75d76a1a550fc4edcb890d78999d52f1">FILE_READ_VERSION</a> = 1 };</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="classCModelDef.html#a8bac9bda7ce0e2297983a84ae7ba6038">CModelDef</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="classCModelDef.html#a8ba244b0d4458d9b967234b2783ec02f">~CModelDef</a>();</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment">// model I/O functions</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classCModelDef.html#a88a898b44a8739822aca55ee0195cd56">Save</a>(<span class="keyword">const</span> <a class="code" href="classPath.html">VfsPath</a>&amp; filename,<span class="keyword">const</span> <a class="code" href="classCModelDef.html">CModelDef</a>* mdef);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     * Loads a PMD file.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * @param filename VFS path of .pmd file to load</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     * @param name arbitrary name to give the model for debugging purposes (usually pathname)</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     * @return the model - always non-NULL</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     * @throw PSERROR_File if it can&#39;t load the model</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keyword">static</span> <a class="code" href="classCModelDef.html">CModelDef</a>* <a class="code" href="classCModelDef.html#ad92682f3f1f4a4e55c64313563ed8110">Load</a>(<span class="keyword">const</span> <a class="code" href="classPath.html">VfsPath</a>&amp; filename, <span class="keyword">const</span> <a class="code" href="classPath.html">VfsPath</a>&amp; name);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// accessor: get vertex data</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classCModelDef.html#a7ec049e185e56bf1aa3a0022c16fb364">  166</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#a7ec049e185e56bf1aa3a0022c16fb364">GetNumVertices</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#ab570705bae6cfada482d52a522a255e4">m_NumVertices</a>; }</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classCModelDef.html#a61b6d24837e69603ea125e5a1ebf408c">  167</a></span>&#160;    <a class="code" href="structSModelVertex.html">SModelVertex</a>* <a class="code" href="classCModelDef.html#a61b6d24837e69603ea125e5a1ebf408c">GetVertices</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a14756de12b664cbcc4ec375241f6bcb2">m_pVertices</a>; }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// accessor: get number of UV sets</span></div>
<div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classCModelDef.html#abd77750162e2a9ee2c8935427c1ba112">  170</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#abd77750162e2a9ee2c8935427c1ba112">GetNumUVsPerVertex</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a4e38071b7d461c4ba8f8cbc5658fb559">m_NumUVsPerVertex</a>; }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// accessor: get face data</span></div>
<div class="line"><a name="l00173"></a><span class="lineno"><a class="line" href="classCModelDef.html#a482383726b0c02b8a060fa012040af3f">  173</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#a482383726b0c02b8a060fa012040af3f">GetNumFaces</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#afa98af4b3871cb3472b93e7b7721a9ea">m_NumFaces</a>; }</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classCModelDef.html#abf36e2c1c166d5908ea8ebb9ae4b4b9c">  174</a></span>&#160;    <a class="code" href="structSModelFace.html">SModelFace</a>* <a class="code" href="classCModelDef.html#abf36e2c1c166d5908ea8ebb9ae4b4b9c">GetFaces</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#ac25af6331149e6c03243587d66aa26f0">m_pFaces</a>; }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="comment">// accessor: get bone data</span></div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classCModelDef.html#ab6754b77ae4abc7b85e18bd1ff75ca8e">  177</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#ab6754b77ae4abc7b85e18bd1ff75ca8e">GetNumBones</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a6d4988104d695f181450fed974691e54">m_NumBones</a>; }</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classCModelDef.html#a46b7be2225656ae405ec6b390e121887">  178</a></span>&#160;    <a class="code" href="classCBoneState.html">CBoneState</a>* <a class="code" href="classCModelDef.html#a46b7be2225656ae405ec6b390e121887">GetBones</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#ae0f99e1c0f4a9439587775bdd26ad975">m_Bones</a>; }</div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classCModelDef.html#ad40f4d8c1c48728b6a2aff22ae2227c9">  179</a></span>&#160;    <a class="code" href="classCMatrix3D.html">CMatrix3D</a>* <a class="code" href="classCModelDef.html#ad40f4d8c1c48728b6a2aff22ae2227c9">GetInverseBindBoneMatrices</a>() { <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a0806eac468516f3effe6a5cd8f87fce4">m_InverseBindBoneMatrices</a>; }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// accessor: get blend data</span></div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classCModelDef.html#ae8a30bcf5244049582a4c08fb525fba5">  182</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#ae8a30bcf5244049582a4c08fb525fba5">GetNumBlends</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a4213484596bce130c97c31a987055d5d">m_NumBlends</a>; }</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classCModelDef.html#a9499a10868649cd4ad722ba015a526ca">  183</a></span>&#160;    <a class="code" href="structSVertexBlend.html">SVertexBlend</a>* <a class="code" href="classCModelDef.html#a9499a10868649cd4ad722ba015a526ca">GetBlends</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a71e6502995c6ade2db8819cf502547a4">m_pBlends</a>; }</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classCModelDef.html#ac80258c845fba8cca048465580b57dae">  184</a></span>&#160;    <span class="keywordtype">size_t</span>* <a class="code" href="classCModelDef.html#ac80258c845fba8cca048465580b57dae">GetBlendIndices</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#acc65450e0830cf396d8c23b85bc094ae">m_pBlendIndices</a>; }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// find and return pointer to prop point matching given name; return</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// null if no match (case insensitive search)</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="keyword">const</span> <a class="code" href="structSPropPoint.html">SPropPoint</a>* <a class="code" href="classCModelDef.html#a1d93f077edd077208a3142b23be558f0">FindPropPoint</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">     * Transform the given vertex&#39;s position from the bind pose into the new pose.</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     * @return new world-space vertex coordinates</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keyword">static</span> <a class="code" href="classCVector3D.html">CVector3D</a> <a class="code" href="classCModelDef.html#ada935a1e2fe079f32ef94a4e4f2d9159">SkinPoint</a>(<span class="keyword">const</span> <a class="code" href="structSModelVertex.html">SModelVertex</a>&amp; vtx,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">const</span> <a class="code" href="classCMatrix3D.html">CMatrix3D</a> newPoseMatrices[]);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">     * Transform the given vertex&#39;s normal from the bind pose into the new pose.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">     * @return new world-space vertex normal</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">static</span> <a class="code" href="classCVector3D.html">CVector3D</a> <a class="code" href="classCModelDef.html#a9f56a65accea21920925e4037db71590">SkinNormal</a>(<span class="keyword">const</span> <a class="code" href="structSModelVertex.html">SModelVertex</a>&amp; vtx,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keyword">const</span> <a class="code" href="classCMatrix3D.html">CMatrix3D</a> newPoseMatrices[]);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     * Transform vertices&#39; positions and normals.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     * (This is equivalent to looping over SkinPoint and SkinNormal,</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     * but slightly more efficient.)</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classCModelDef.html#a8f946a486438cb5e589345a78465b8f4">SkinPointsAndNormals</a>(</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordtype">size_t</span> numVertices,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keyword">const</span> <a class="code" href="classVertexArrayIterator.html">VertexArrayIterator&lt;CVector3D&gt;</a>&amp; Position,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keyword">const</span> <a class="code" href="classVertexArrayIterator.html">VertexArrayIterator&lt;CVector3D&gt;</a>&amp; Normal,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">const</span> <a class="code" href="structSModelVertex.html">SModelVertex</a>* vertices,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span>* blendIndices,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keyword">const</span> <a class="code" href="classCMatrix3D.html">CMatrix3D</a> newPoseMatrices[]);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="preprocessor">#if HAVE_SSE</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="preprocessor"></span><span class="comment">    /**</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">     * SSE-optimised version of SkinPointsAndNormals.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> SkinPointsAndNormals_SSE(</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordtype">size_t</span> numVertices,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keyword">const</span> <a class="code" href="classVertexArrayIterator.html">VertexArrayIterator&lt;CVector3D&gt;</a>&amp; Position,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keyword">const</span> <a class="code" href="classVertexArrayIterator.html">VertexArrayIterator&lt;CVector3D&gt;</a>&amp; Normal,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keyword">const</span> <a class="code" href="structSModelVertex.html">SModelVertex</a>* vertices,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span>* blendIndices,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">const</span> <a class="code" href="classCMatrix3D.html">CMatrix3D</a> newPoseMatrices[]);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="preprocessor"></span><span class="comment"></span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     * Blend bone matrices together to fill bone palette.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCModelDef.html#a27f951e9d0fbf9439f73111a48b6ab28">BlendBoneMatrices</a>(<a class="code" href="classCMatrix3D.html">CMatrix3D</a> boneMatrices[]);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     * Register renderer private data. Use the key to</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     * distinguish between private data used by different render paths.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">     * The private data will be managed by this CModelDef object:</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">     * It will be deleted when CModelDef is destructed or when private</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">     * data is registered using the same key.</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     * @param key The opaque key that is used to identify the caller.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     * The given private data can be retrieved by passing key to GetRenderData.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     * @param data The private data.</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">     * postconditions : data is bound to the lifetime of this CModelDef</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">     * object.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCModelDef.html#a47fb19b8cde6c198b1f3b346e0bb6047">SetRenderData</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="wpthread_8cpp.html#ac256ecc480ba7aaf877e07aed0a791bf">key</a>, <a class="code" href="classCModelDefRPrivate.html">CModelDefRPrivate</a>* data);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// accessor: render data</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="classCModelDefRPrivate.html">CModelDefRPrivate</a>* <a class="code" href="classCModelDef.html#a86d76650e2ee21cc88048b985630f696">GetRenderData</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="wpthread_8cpp.html#ac256ecc480ba7aaf877e07aed0a791bf">key</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// accessor: get model name (for debugging)</span></div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classCModelDef.html#a2996ec54d36d6010cd884467ab04ecaa">  257</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classPath.html">VfsPath</a>&amp; <a class="code" href="classCModelDef.html#a2996ec54d36d6010cd884467ab04ecaa">GetName</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCModelDef.html#a63e2550b33406327d72c9e8043b41fc9">m_Name</a>; }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// vertex data</span></div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classCModelDef.html#ab570705bae6cfada482d52a522a255e4">  261</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#ab570705bae6cfada482d52a522a255e4">m_NumVertices</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classCModelDef.html#a14756de12b664cbcc4ec375241f6bcb2">  262</a></span>&#160;    <a class="code" href="structSModelVertex.html">SModelVertex</a>* <a class="code" href="classCModelDef.html#a14756de12b664cbcc4ec375241f6bcb2">m_pVertices</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classCModelDef.html#a4e38071b7d461c4ba8f8cbc5658fb559">  263</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#a4e38071b7d461c4ba8f8cbc5658fb559">m_NumUVsPerVertex</a>; <span class="comment">// number of UV pairs per vertex</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// face data</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classCModelDef.html#afa98af4b3871cb3472b93e7b7721a9ea">  265</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#afa98af4b3871cb3472b93e7b7721a9ea">m_NumFaces</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classCModelDef.html#ac25af6331149e6c03243587d66aa26f0">  266</a></span>&#160;    <a class="code" href="structSModelFace.html">SModelFace</a>* <a class="code" href="classCModelDef.html#ac25af6331149e6c03243587d66aa26f0">m_pFaces</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// bone data - default model pose</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classCModelDef.html#a6d4988104d695f181450fed974691e54">  268</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#a6d4988104d695f181450fed974691e54">m_NumBones</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classCModelDef.html#ae0f99e1c0f4a9439587775bdd26ad975">  269</a></span>&#160;    <a class="code" href="classCBoneState.html">CBoneState</a>* <a class="code" href="classCModelDef.html#ae0f99e1c0f4a9439587775bdd26ad975">m_Bones</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classCModelDef.html#a0806eac468516f3effe6a5cd8f87fce4">  270</a></span>&#160;    <a class="code" href="classCMatrix3D.html">CMatrix3D</a>* <a class="code" href="classCModelDef.html#a0806eac468516f3effe6a5cd8f87fce4">m_InverseBindBoneMatrices</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// blend data</span></div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classCModelDef.html#a4213484596bce130c97c31a987055d5d">  272</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCModelDef.html#a4213484596bce130c97c31a987055d5d">m_NumBlends</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classCModelDef.html#a71e6502995c6ade2db8819cf502547a4">  273</a></span>&#160;    <a class="code" href="structSVertexBlend.html">SVertexBlend</a> *<a class="code" href="classCModelDef.html#a71e6502995c6ade2db8819cf502547a4">m_pBlends</a>;</div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classCModelDef.html#acc65450e0830cf396d8c23b85bc094ae">  274</a></span>&#160;    <span class="keywordtype">size_t</span>* <a class="code" href="classCModelDef.html#acc65450e0830cf396d8c23b85bc094ae">m_pBlendIndices</a>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="comment">// prop point data</span></div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classCModelDef.html#ad1c94f2cb0716b3914e2cf70fc18fbc6">  276</a></span>&#160;    std::vector&lt;SPropPoint&gt; <a class="code" href="classCModelDef.html#ad1c94f2cb0716b3914e2cf70fc18fbc6">m_PropPoints</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classCModelDef.html#a63e2550b33406327d72c9e8043b41fc9">  279</a></span>&#160;    <a class="code" href="classPath.html">VfsPath</a> <a class="code" href="classCModelDef.html#a63e2550b33406327d72c9e8043b41fc9">m_Name</a>; <span class="comment">// filename</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="comment">// renderdata shared by models of the same modeldef,</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// by render path</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classCModelDef.html#a3089ae8230b020b888d105c4cb8d5c8f">  283</a></span>&#160;    <span class="keyword">typedef</span> std::map&lt;const void*, CModelDefRPrivate*&gt; <a class="code" href="classCModelDef.html#a3089ae8230b020b888d105c4cb8d5c8f">RenderDataMap</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classCModelDef.html#a8478ed7319255a00c1b850ce3ddad9d4">  284</a></span>&#160;    <a class="code" href="classCModelDef.html#a3089ae8230b020b888d105c4cb8d5c8f">RenderDataMap</a> <a class="code" href="classCModelDef.html#a8478ed7319255a00c1b850ce3ddad9d4">m_RenderData</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;};</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="preprocessor"></span> </div>
<div class="ttc" id="structSPropPoint_html_a1b3faffd988edb3dd311f7866507bfd9"><div class="ttname"><a href="structSPropPoint.html#a1b3faffd988edb3dd311f7866507bfd9">SPropPoint::m_BoneIndex</a></div><div class="ttdeci">u8 m_BoneIndex</div><div class="ttdoc">Index of parent bone to which this prop point is relative, if any. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00079">ModelDef.h:79</a></div></div>
<div class="ttc" id="structSPropPoint_html_a6c0581b6ee883fb28f032d909fa924ee"><div class="ttname"><a href="structSPropPoint.html#a6c0581b6ee883fb28f032d909fa924ee">SPropPoint::m_Rotation</a></div><div class="ttdeci">CQuaternion m_Rotation</div><div class="ttdoc">Rotation of the prop model that will be attached at this point. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00064">ModelDef.h:64</a></div></div>
<div class="ttc" id="types_8h_html_af3b86d961da0a3575b4f99c9ffaf01fd"><div class="ttname"><a href="types_8h.html#af3b86d961da0a3575b4f99c9ffaf01fd">u8</a></div><div class="ttdeci">#define u8</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00039">types.h:39</a></div></div>
<div class="ttc" id="Quaternion_8h_html"><div class="ttname"><a href="Quaternion_8h.html">Quaternion.h</a></div></div>
<div class="ttc" id="classCModelDef_html_ac25af6331149e6c03243587d66aa26f0"><div class="ttname"><a href="classCModelDef.html#ac25af6331149e6c03243587d66aa26f0">CModelDef::m_pFaces</a></div><div class="ttdeci">SModelFace * m_pFaces</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00266">ModelDef.h:266</a></div></div>
<div class="ttc" id="structSVertexBlend_html_ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261"><div class="ttname"><a href="structSVertexBlend.html#ae2a68a784608448fba2da2bef66ae293a5525ce9aeebcc1c48685a2777072b261">SVertexBlend::SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00087">ModelDef.h:87</a></div></div>
<div class="ttc" id="structSPropPoint_html"><div class="ttname"><a href="structSPropPoint.html">SPropPoint</a></div><div class="ttdoc">Describes the position of a prop point within its parent model. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00048">ModelDef.h:48</a></div></div>
<div class="ttc" id="classCModelDef_html_a8478ed7319255a00c1b850ce3ddad9d4"><div class="ttname"><a href="classCModelDef.html#a8478ed7319255a00c1b850ce3ddad9d4">CModelDef::m_RenderData</a></div><div class="ttdeci">RenderDataMap m_RenderData</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00284">ModelDef.h:284</a></div></div>
<div class="ttc" id="structSModelVertex_html_a403ea6a88f906714872fc92c163808ac"><div class="ttname"><a href="structSModelVertex.html#a403ea6a88f906714872fc92c163808ac">SModelVertex::m_Norm</a></div><div class="ttdeci">CVector3D m_Norm</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00106">ModelDef.h:106</a></div></div>
<div class="ttc" id="structSVertexBlend_html_a0243612b1b9facc1615fbd6528336509"><div class="ttname"><a href="structSVertexBlend.html#a0243612b1b9facc1615fbd6528336509">SVertexBlend::operator==</a></div><div class="ttdeci">bool operator==(const SVertexBlend &amp;o) const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00093">ModelDef.h:93</a></div></div>
<div class="ttc" id="classCModelDef_html_a14756de12b664cbcc4ec375241f6bcb2"><div class="ttname"><a href="classCModelDef.html#a14756de12b664cbcc4ec375241f6bcb2">CModelDef::m_pVertices</a></div><div class="ttdeci">SModelVertex * m_pVertices</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00262">ModelDef.h:262</a></div></div>
<div class="ttc" id="classCModelDef_html_a8bac9bda7ce0e2297983a84ae7ba6038"><div class="ttname"><a href="classCModelDef.html#a8bac9bda7ce0e2297983a84ae7ba6038">CModelDef::CModelDef</a></div><div class="ttdeci">CModelDef()</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00228">ModelDef.cpp:228</a></div></div>
<div class="ttc" id="CStr_8h_html"><div class="ttname"><a href="CStr_8h.html">CStr.h</a></div></div>
<div class="ttc" id="classCModelDef_html_ae708f8729a34a76929e9d0344f4b0b14a75d76a1a550fc4edcb890d78999d52f1"><div class="ttname"><a href="classCModelDef.html#ae708f8729a34a76929e9d0344f4b0b14a75d76a1a550fc4edcb890d78999d52f1">CModelDef::FILE_READ_VERSION</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00144">ModelDef.h:144</a></div></div>
<div class="ttc" id="structSVertexBlend_html_aba49bbcf02953fc8bcd9eef263453ad4"><div class="ttname"><a href="structSVertexBlend.html#aba49bbcf02953fc8bcd9eef263453ad4">SVertexBlend::m_Weight</a></div><div class="ttdeci">float m_Weight[SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00091">ModelDef.h:91</a></div></div>
<div class="ttc" id="classCModelDef_html_a61b6d24837e69603ea125e5a1ebf408c"><div class="ttname"><a href="classCModelDef.html#a61b6d24837e69603ea125e5a1ebf408c">CModelDef::GetVertices</a></div><div class="ttdeci">SModelVertex * GetVertices() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00167">ModelDef.h:167</a></div></div>
<div class="ttc" id="classCBoneState_html"><div class="ttname"><a href="classCBoneState.html">CBoneState</a></div><div class="ttdef"><b>Definition:</b> <a href="SkeletonAnimDef_8h_source.html#l00031">SkeletonAnimDef.h:31</a></div></div>
<div class="ttc" id="Vector2D_8h_html"><div class="ttname"><a href="Vector2D_8h.html">Vector2D.h</a></div></div>
<div class="ttc" id="classCVector3D_html"><div class="ttname"><a href="classCVector3D.html">CVector3D</a></div><div class="ttdef"><b>Definition:</b> <a href="Vector3D_8h_source.html#l00028">Vector3D.h:28</a></div></div>
<div class="ttc" id="classCModelDef_html_ab6754b77ae4abc7b85e18bd1ff75ca8e"><div class="ttname"><a href="classCModelDef.html#ab6754b77ae4abc7b85e18bd1ff75ca8e">CModelDef::GetNumBones</a></div><div class="ttdeci">size_t GetNumBones() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00177">ModelDef.h:177</a></div></div>
<div class="ttc" id="classCModelDefRPrivate_html"><div class="ttname"><a href="classCModelDefRPrivate.html">CModelDefRPrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00125">ModelDef.h:125</a></div></div>
<div class="ttc" id="classCModelDefRPrivate_html_ab6abb932d199e6cd29f9235e6cc7c0d4"><div class="ttname"><a href="classCModelDefRPrivate.html#ab6abb932d199e6cd29f9235e6cc7c0d4">CModelDefRPrivate::~CModelDefRPrivate</a></div><div class="ttdeci">virtual ~CModelDefRPrivate()</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00129">ModelDef.h:129</a></div></div>
<div class="ttc" id="classCModelDef_html_ad1c94f2cb0716b3914e2cf70fc18fbc6"><div class="ttname"><a href="classCModelDef.html#ad1c94f2cb0716b3914e2cf70fc18fbc6">CModelDef::m_PropPoints</a></div><div class="ttdeci">std::vector&lt; SPropPoint &gt; m_PropPoints</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00276">ModelDef.h:276</a></div></div>
<div class="ttc" id="classCModelDef_html"><div class="ttname"><a href="classCModelDef.html">CModelDef</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00136">ModelDef.h:136</a></div></div>
<div class="ttc" id="classCModelDef_html_a9f56a65accea21920925e4037db71590"><div class="ttname"><a href="classCModelDef.html#a9f56a65accea21920925e4037db71590">CModelDef::SkinNormal</a></div><div class="ttdeci">static CVector3D SkinNormal(const SModelVertex &amp;vtx, const CMatrix3D newPoseMatrices[])</div><div class="ttdoc">Transform the given vertex&amp;#39;s normal from the bind pose into the new pose. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00046">ModelDef.cpp:46</a></div></div>
<div class="ttc" id="classCModelDef_html_a6d4988104d695f181450fed974691e54"><div class="ttname"><a href="classCModelDef.html#a6d4988104d695f181450fed974691e54">CModelDef::m_NumBones</a></div><div class="ttdeci">size_t m_NumBones</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00268">ModelDef.h:268</a></div></div>
<div class="ttc" id="VertexArray_8h_html"><div class="ttname"><a href="VertexArray_8h.html">VertexArray.h</a></div></div>
<div class="ttc" id="structSModelFace_html_ae407634eda523b6a23acda023b0b2ee4"><div class="ttname"><a href="structSModelFace.html#ae407634eda523b6a23acda023b0b2ee4">SModelFace::m_Verts</a></div><div class="ttdeci">u16 m_Verts[3]</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00119">ModelDef.h:119</a></div></div>
<div class="ttc" id="classCModelDef_html_a7ec049e185e56bf1aa3a0022c16fb364"><div class="ttname"><a href="classCModelDef.html#a7ec049e185e56bf1aa3a0022c16fb364">CModelDef::GetNumVertices</a></div><div class="ttdeci">size_t GetNumVertices() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00166">ModelDef.h:166</a></div></div>
<div class="ttc" id="classCModelDef_html_afa98af4b3871cb3472b93e7b7721a9ea"><div class="ttname"><a href="classCModelDef.html#afa98af4b3871cb3472b93e7b7721a9ea">CModelDef::m_NumFaces</a></div><div class="ttdeci">size_t m_NumFaces</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00265">ModelDef.h:265</a></div></div>
<div class="ttc" id="classCModelDef_html_a71e6502995c6ade2db8819cf502547a4"><div class="ttname"><a href="classCModelDef.html#a71e6502995c6ade2db8819cf502547a4">CModelDef::m_pBlends</a></div><div class="ttdeci">SVertexBlend * m_pBlends</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00273">ModelDef.h:273</a></div></div>
<div class="ttc" id="structSModelVertex_html"><div class="ttname"><a href="structSModelVertex.html">SModelVertex</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00101">ModelDef.h:101</a></div></div>
<div class="ttc" id="classCMatrix3D_html"><div class="ttname"><a href="classCMatrix3D.html">CMatrix3D</a></div><div class="ttdef"><b>Definition:</b> <a href="Matrix3D_8h_source.html#l00033">Matrix3D.h:33</a></div></div>
<div class="ttc" id="classCModelDef_html_a46b7be2225656ae405ec6b390e121887"><div class="ttname"><a href="classCModelDef.html#a46b7be2225656ae405ec6b390e121887">CModelDef::GetBones</a></div><div class="ttdeci">CBoneState * GetBones() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00178">ModelDef.h:178</a></div></div>
<div class="ttc" id="classCModelDef_html_a8f946a486438cb5e589345a78465b8f4"><div class="ttname"><a href="classCModelDef.html#a8f946a486438cb5e589345a78465b8f4">CModelDef::SkinPointsAndNormals</a></div><div class="ttdeci">static void SkinPointsAndNormals(size_t numVertices, const VertexArrayIterator&lt; CVector3D &gt; &amp;Position, const VertexArrayIterator&lt; CVector3D &gt; &amp;Normal, const SModelVertex *vertices, const size_t *blendIndices, const CMatrix3D newPoseMatrices[])</div><div class="ttdoc">Transform vertices&amp;#39; positions and normals. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00090">ModelDef.cpp:90</a></div></div>
<div class="ttc" id="structSVertexBlend_html_a6c42ccbf842bf9e08c8740ea235bfbeb"><div class="ttname"><a href="structSVertexBlend.html#a6c42ccbf842bf9e08c8740ea235bfbeb">SVertexBlend::m_Bone</a></div><div class="ttdeci">u8 m_Bone[SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00089">ModelDef.h:89</a></div></div>
<div class="ttc" id="classCModelDef_html_ad40f4d8c1c48728b6a2aff22ae2227c9"><div class="ttname"><a href="classCModelDef.html#ad40f4d8c1c48728b6a2aff22ae2227c9">CModelDef::GetInverseBindBoneMatrices</a></div><div class="ttdeci">CMatrix3D * GetInverseBindBoneMatrices()</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00179">ModelDef.h:179</a></div></div>
<div class="ttc" id="classCModelDef_html_ad92682f3f1f4a4e55c64313563ed8110"><div class="ttname"><a href="classCModelDef.html#ad92682f3f1f4a4e55c64313563ed8110">CModelDef::Load</a></div><div class="ttdeci">static CModelDef * Load(const VfsPath &amp;filename, const VfsPath &amp;name)</div><div class="ttdoc">Loads a PMD file. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00261">ModelDef.cpp:261</a></div></div>
<div class="ttc" id="classCModelDef_html_a63e2550b33406327d72c9e8043b41fc9"><div class="ttname"><a href="classCModelDef.html#a63e2550b33406327d72c9e8043b41fc9">CModelDef::m_Name</a></div><div class="ttdeci">VfsPath m_Name</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00279">ModelDef.h:279</a></div></div>
<div class="ttc" id="classCModelDef_html_ada935a1e2fe079f32ef94a4e4f2d9159"><div class="ttname"><a href="classCModelDef.html#ada935a1e2fe079f32ef94a4e4f2d9159">CModelDef::SkinPoint</a></div><div class="ttdeci">static CVector3D SkinPoint(const SModelVertex &amp;vtx, const CMatrix3D newPoseMatrices[])</div><div class="ttdoc">Transform the given vertex&amp;#39;s position from the bind pose into the new pose. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00033">ModelDef.cpp:33</a></div></div>
<div class="ttc" id="classPath_html"><div class="ttname"><a href="classPath.html">Path</a></div><div class="ttdef"><b>Definition:</b> <a href="path_8h_source.html#l00075">path.h:75</a></div></div>
<div class="ttc" id="classCModelDef_html_a4213484596bce130c97c31a987055d5d"><div class="ttname"><a href="classCModelDef.html#a4213484596bce130c97c31a987055d5d">CModelDef::m_NumBlends</a></div><div class="ttdeci">size_t m_NumBlends</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00272">ModelDef.h:272</a></div></div>
<div class="ttc" id="classCModelDef_html_acc65450e0830cf396d8c23b85bc094ae"><div class="ttname"><a href="classCModelDef.html#acc65450e0830cf396d8c23b85bc094ae">CModelDef::m_pBlendIndices</a></div><div class="ttdeci">size_t * m_pBlendIndices</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00274">ModelDef.h:274</a></div></div>
<div class="ttc" id="wpthread_8cpp_html_ac256ecc480ba7aaf877e07aed0a791bf"><div class="ttname"><a href="wpthread_8cpp.html#ac256ecc480ba7aaf877e07aed0a791bf">key</a></div><div class="ttdeci">pthread_key_t key</div><div class="ttdef"><b>Definition:</b> <a href="wpthread_8cpp_source.html#l00140">wpthread.cpp:140</a></div></div>
<div class="ttc" id="classCModelDef_html_ae8a30bcf5244049582a4c08fb525fba5"><div class="ttname"><a href="classCModelDef.html#ae8a30bcf5244049582a4c08fb525fba5">CModelDef::GetNumBlends</a></div><div class="ttdeci">size_t GetNumBlends() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00182">ModelDef.h:182</a></div></div>
<div class="ttc" id="classCModelDef_html_ab570705bae6cfada482d52a522a255e4"><div class="ttname"><a href="classCModelDef.html#ab570705bae6cfada482d52a522a255e4">CModelDef::m_NumVertices</a></div><div class="ttdeci">size_t m_NumVertices</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00261">ModelDef.h:261</a></div></div>
<div class="ttc" id="structSPropPoint_html_a2c22ac3d17de0eda9c44119f44b87382"><div class="ttname"><a href="structSPropPoint.html#a2c22ac3d17de0eda9c44119f44b87382">SPropPoint::m_Name</a></div><div class="ttdeci">CStr m_Name</div><div class="ttdoc">Name of the prop point. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00051">ModelDef.h:51</a></div></div>
<div class="ttc" id="classCModelDef_html_a47fb19b8cde6c198b1f3b346e0bb6047"><div class="ttname"><a href="classCModelDef.html#a47fb19b8cde6c198b1f3b346e0bb6047">CModelDef::SetRenderData</a></div><div class="ttdeci">void SetRenderData(const void *key, CModelDefRPrivate *data)</div><div class="ttdoc">Register renderer private data. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00456">ModelDef.cpp:456</a></div></div>
<div class="ttc" id="classCModelDef_html_a0806eac468516f3effe6a5cd8f87fce4"><div class="ttname"><a href="classCModelDef.html#a0806eac468516f3effe6a5cd8f87fce4">CModelDef::m_InverseBindBoneMatrices</a></div><div class="ttdeci">CMatrix3D * m_InverseBindBoneMatrices</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00270">ModelDef.h:270</a></div></div>
<div class="ttc" id="classCModelDef_html_a27f951e9d0fbf9439f73111a48b6ab28"><div class="ttname"><a href="classCModelDef.html#a27f951e9d0fbf9439f73111a48b6ab28">CModelDef::BlendBoneMatrices</a></div><div class="ttdeci">void BlendBoneMatrices(CMatrix3D boneMatrices[])</div><div class="ttdoc">Blend bone matrices together to fill bone palette. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00206">ModelDef.cpp:206</a></div></div>
<div class="ttc" id="structSVertexBlend_html"><div class="ttname"><a href="structSVertexBlend.html">SVertexBlend</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00085">ModelDef.h:85</a></div></div>
<div class="ttc" id="classCModelDef_html_aac593e358058b88b3ac717a3ad8e12c6"><div class="ttname"><a href="classCModelDef.html#aac593e358058b88b3ac717a3ad8e12c6">CModelDef::NONCOPYABLE</a></div><div class="ttdeci">NONCOPYABLE(CModelDef)</div></div>
<div class="ttc" id="structSModelFace_html"><div class="ttname"><a href="structSModelFace.html">SModelFace</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00116">ModelDef.h:116</a></div></div>
<div class="ttc" id="structSPropPoint_html_abeeebc923afd784fb37c5f533221c18b"><div class="ttname"><a href="structSPropPoint.html#abeeebc923afd784fb37c5f533221c18b">SPropPoint::m_Transform</a></div><div class="ttdeci">CMatrix3D m_Transform</div><div class="ttdoc">Object to parent space transformation. </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00073">ModelDef.h:73</a></div></div>
<div class="ttc" id="types_8h_html_a2b19d553290a8d4a083d3c03280ea800"><div class="ttname"><a href="types_8h.html#a2b19d553290a8d4a083d3c03280ea800">u16</a></div><div class="ttdeci">#define u16</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00040">types.h:40</a></div></div>
<div class="ttc" id="classCModelDefRPrivate_html_aaffe10e6aef63017ad30f7cb41e0afa7"><div class="ttname"><a href="classCModelDefRPrivate.html#aaffe10e6aef63017ad30f7cb41e0afa7">CModelDefRPrivate::CModelDefRPrivate</a></div><div class="ttdeci">CModelDefRPrivate()</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00128">ModelDef.h:128</a></div></div>
<div class="ttc" id="classCModelDef_html_a8765fbbaa54a09053ae860deb4df1db8af996c74f43ed97f93ced327fc8468098"><div class="ttname"><a href="classCModelDef.html#a8765fbbaa54a09053ae860deb4df1db8af996c74f43ed97f93ced327fc8468098">CModelDef::FILE_VERSION</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00142">ModelDef.h:142</a></div></div>
<div class="ttc" id="classCModelDef_html_a3089ae8230b020b888d105c4cb8d5c8f"><div class="ttname"><a href="classCModelDef.html#a3089ae8230b020b888d105c4cb8d5c8f">CModelDef::RenderDataMap</a></div><div class="ttdeci">std::map&lt; const void *, CModelDefRPrivate * &gt; RenderDataMap</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00283">ModelDef.h:283</a></div></div>
<div class="ttc" id="classCModelDef_html_a88a898b44a8739822aca55ee0195cd56"><div class="ttname"><a href="classCModelDef.html#a88a898b44a8739822aca55ee0195cd56">CModelDef::Save</a></div><div class="ttdeci">static void Save(const VfsPath &amp;filename, const CModelDef *mdef)</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00423">ModelDef.cpp:423</a></div></div>
<div class="ttc" id="classCModelDef_html_abf36e2c1c166d5908ea8ebb9ae4b4b9c"><div class="ttname"><a href="classCModelDef.html#abf36e2c1c166d5908ea8ebb9ae4b4b9c">CModelDef::GetFaces</a></div><div class="ttdeci">SModelFace * GetFaces() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00174">ModelDef.h:174</a></div></div>
<div class="ttc" id="classCQuaternion_html"><div class="ttname"><a href="classCQuaternion.html">CQuaternion</a></div><div class="ttdef"><b>Definition:</b> <a href="Quaternion_8h_source.html#l00024">Quaternion.h:24</a></div></div>
<div class="ttc" id="structSModelVertex_html_aa8a249bef3dfa9c07532089cf7ba4a62"><div class="ttname"><a href="structSModelVertex.html#aa8a249bef3dfa9c07532089cf7ba4a62">SModelVertex::m_Coords</a></div><div class="ttdeci">CVector3D m_Coords</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00104">ModelDef.h:104</a></div></div>
<div class="ttc" id="classCModelDef_html_a8ba244b0d4458d9b967234b2783ec02f"><div class="ttname"><a href="classCModelDef.html#a8ba244b0d4458d9b967234b2783ec02f">CModelDef::~CModelDef</a></div><div class="ttdeci">~CModelDef()</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00237">ModelDef.cpp:237</a></div></div>
<div class="ttc" id="structSModelVertex_html_adc5ac749582bde3a9091e2bde0800258"><div class="ttname"><a href="structSModelVertex.html#adc5ac749582bde3a9091e2bde0800258">SModelVertex::m_Blend</a></div><div class="ttdeci">SVertexBlend m_Blend</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00110">ModelDef.h:110</a></div></div>
<div class="ttc" id="classCModelDef_html_a1d93f077edd077208a3142b23be558f0"><div class="ttname"><a href="classCModelDef.html#a1d93f077edd077208a3142b23be558f0">CModelDef::FindPropPoint</a></div><div class="ttdeci">const SPropPoint * FindPropPoint(const char *name) const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00251">ModelDef.cpp:251</a></div></div>
<div class="ttc" id="structSPropPoint_html_a2d2c726d722038efcad2eaf0c7d951a0"><div class="ttname"><a href="structSPropPoint.html#a2d2c726d722038efcad2eaf0c7d951a0">SPropPoint::m_Position</a></div><div class="ttdeci">CVector3D m_Position</div><div class="ttdoc">Position of the point within the parent model, relative to either the parent model&amp;#39;s origin or one of...</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00058">ModelDef.h:58</a></div></div>
<div class="ttc" id="Vector3D_8h_html"><div class="ttname"><a href="Vector3D_8h.html">Vector3D.h</a></div></div>
<div class="ttc" id="classVertexArrayIterator_html"><div class="ttname"><a href="classVertexArrayIterator.html">VertexArrayIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="VertexArray_8h_source.html#l00025">VertexArray.h:25</a></div></div>
<div class="ttc" id="vfs__path_8h_html"><div class="ttname"><a href="vfs__path_8h.html">vfs_path.h</a></div></div>
<div class="ttc" id="classCModelDef_html_ac80258c845fba8cca048465580b57dae"><div class="ttname"><a href="classCModelDef.html#ac80258c845fba8cca048465580b57dae">CModelDef::GetBlendIndices</a></div><div class="ttdeci">size_t * GetBlendIndices() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00184">ModelDef.h:184</a></div></div>
<div class="ttc" id="classCModelDef_html_a482383726b0c02b8a060fa012040af3f"><div class="ttname"><a href="classCModelDef.html#a482383726b0c02b8a060fa012040af3f">CModelDef::GetNumFaces</a></div><div class="ttdeci">size_t GetNumFaces() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00173">ModelDef.h:173</a></div></div>
<div class="ttc" id="classCModelDef_html_a2996ec54d36d6010cd884467ab04ecaa"><div class="ttname"><a href="classCModelDef.html#a2996ec54d36d6010cd884467ab04ecaa">CModelDef::GetName</a></div><div class="ttdeci">const VfsPath &amp; GetName() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00257">ModelDef.h:257</a></div></div>
<div class="ttc" id="classCModelDef_html_a4e38071b7d461c4ba8f8cbc5658fb559"><div class="ttname"><a href="classCModelDef.html#a4e38071b7d461c4ba8f8cbc5658fb559">CModelDef::m_NumUVsPerVertex</a></div><div class="ttdeci">size_t m_NumUVsPerVertex</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00263">ModelDef.h:263</a></div></div>
<div class="ttc" id="classCModelDef_html_a86d76650e2ee21cc88048b985630f696"><div class="ttname"><a href="classCModelDef.html#a86d76650e2ee21cc88048b985630f696">CModelDef::GetRenderData</a></div><div class="ttdeci">CModelDefRPrivate * GetRenderData(const void *key) const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8cpp_source.html#l00465">ModelDef.cpp:465</a></div></div>
<div class="ttc" id="classCModelDef_html_abd77750162e2a9ee2c8935427c1ba112"><div class="ttname"><a href="classCModelDef.html#abd77750162e2a9ee2c8935427c1ba112">CModelDef::GetNumUVsPerVertex</a></div><div class="ttdeci">size_t GetNumUVsPerVertex() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00170">ModelDef.h:170</a></div></div>
<div class="ttc" id="classCModelDef_html_ae0f99e1c0f4a9439587775bdd26ad975"><div class="ttname"><a href="classCModelDef.html#ae0f99e1c0f4a9439587775bdd26ad975">CModelDef::m_Bones</a></div><div class="ttdeci">CBoneState * m_Bones</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00269">ModelDef.h:269</a></div></div>
<div class="ttc" id="classCModelDef_html_a9499a10868649cd4ad722ba015a526ca"><div class="ttname"><a href="classCModelDef.html#a9499a10868649cd4ad722ba015a526ca">CModelDef::GetBlends</a></div><div class="ttdeci">SVertexBlend * GetBlends() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00183">ModelDef.h:183</a></div></div>
<div class="ttc" id="structSModelVertex_html_aafc54b0872c873b74f67e66b069b8e68"><div class="ttname"><a href="structSModelVertex.html#aafc54b0872c873b74f67e66b069b8e68">SModelVertex::m_UVs</a></div><div class="ttdeci">std::vector&lt; float &gt; m_UVs</div><div class="ttdef"><b>Definition:</b> <a href="ModelDef_8h_source.html#l00108">ModelDef.h:108</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 00:58:06 for Pyrogenesis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
