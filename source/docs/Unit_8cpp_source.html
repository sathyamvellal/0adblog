<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pyrogenesis: /home/sathyam/0ad.svn/source/graphics/Unit.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pyrogenesis
   &#160;<span id="projectnumber">13997</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_f61e62a0933c4867ad0b16a48109b05b.html">graphics</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Unit.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Unit_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (C) 2013 Wildfire Games.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of 0 A.D.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * 0 A.D. is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation, either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * 0 A.D. is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with 0 A.D.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;precompiled.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Unit_8h.html">Unit.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Model_8h.html">Model.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectBase_8h.html">ObjectBase.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectEntry_8h.html">ObjectEntry.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ObjectManager_8h.html">ObjectManager.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SkeletonAnim_8h.html">SkeletonAnim.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SkeletonAnimDef_8h.html">SkeletonAnimDef.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="UnitAnimation_8h.html">UnitAnimation.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classCUnit.html#acbefb02078b203b4b45ec4ed7c2ed6e9">   29</a></span>&#160;<a class="code" href="classCUnit.html#acbefb02078b203b4b45ec4ed7c2ed6e9">CUnit::CUnit</a>(<a class="code" href="classCObjectEntry.html">CObjectEntry</a>* <span class="keywordtype">object</span>, <a class="code" href="classCObjectManager.html">CObjectManager</a>&amp; objectManager,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;             <span class="keyword">const</span> std::set&lt;CStr&gt;&amp; actorSelections, <a class="code" href="wposix__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> seed)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;: m_Object(object), m_Model(object-&gt;m_Model-&gt;Clone()),</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  m_ID(<a class="code" href="simulation2_2system_2Entity_8h.html#a1367d00ed40eb3c86920997c86e70b59">INVALID_ENTITY</a>), m_ActorSelections(actorSelections),</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  m_ObjectManager(objectManager), m_Seed(seed)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>())</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a> = <span class="keyword">new</span> <a class="code" href="classCUnit.html#accf32d3cb5893fbeb34e3808a66e94c7">CUnitAnimation</a>(<a class="code" href="classCUnit.html#a545740d6b8c1e317489bc949d3bff61e">m_ID</a>, <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>(), <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a> = NULL;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classCUnit.html#a2b326b3671dc94ff4f85da768a937b8d">   41</a></span>&#160;<a class="code" href="classCUnit.html#a2b326b3671dc94ff4f85da768a937b8d">CUnit::~CUnit</a>()</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="classCUnit.html#a3f2577472c58a8cd1b1900b47c64131d">   47</a></span>&#160;<a class="code" href="classCUnit.html">CUnit</a>* <a class="code" href="classCUnit.html#a3f2577472c58a8cd1b1900b47c64131d">CUnit::Create</a>(<span class="keyword">const</span> CStrW&amp; actorName, <a class="code" href="wposix__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> seed, <span class="keyword">const</span> std::set&lt;CStr&gt;&amp; selections, <a class="code" href="classCObjectManager.html">CObjectManager</a>&amp; objectManager)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="classCObjectBase.html">CObjectBase</a>* base = objectManager.<a class="code" href="classCObjectManager.html#ac414618387fbabd4e1a6eaf410b18691">FindObjectBase</a>(actorName);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (! base)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    std::set&lt;CStr&gt; actorSelections = base-&gt;<a class="code" href="classCObjectBase.html#a81cea8459dc996cc0de310fdf3208cb0">CalculateRandomVariation</a>(seed, selections);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    std::vector&lt;std::set&lt;CStr&gt; &gt; selectionsVec;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    selectionsVec.push_back(actorSelections);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classCObjectEntry.html">CObjectEntry</a>* obj = objectManager.<a class="code" href="classCObjectManager.html#a974ce4c8fec803385bc6cf5828ec0c99">FindObjectVariation</a>(base, selectionsVec);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (! obj)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCUnit.html#acbefb02078b203b4b45ec4ed7c2ed6e9">CUnit</a>(obj, objectManager, actorSelections, seed);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classCUnit.html#aba44f830bb3a19c8172da4521bdef3be">   67</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCUnit.html#aba44f830bb3a19c8172da4521bdef3be">CUnit::UpdateModel</a>(<span class="keywordtype">float</span> frameTime)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>-&gt;<a class="code" href="classCUnitAnimation.html#a0682889d8fe902f3007a020be86d5ffd">Update</a>(frameTime*1000.0f);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classCUnit.html#af90b20dd5399e689a888573bd39cdd45">   73</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCUnit.html#af90b20dd5399e689a888573bd39cdd45">CUnit::SetID</a>(<a class="code" href="simulation2_2system_2Entity_8h.html#a70961dc0512c70c6de7c8f95d4500260">entity_id_t</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classCUnit.html#a545740d6b8c1e317489bc949d3bff61e">m_ID</a> = id;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>-&gt;<a class="code" href="classCUnitAnimation.html#a60825c91a7d59a288de28e28b7aa8315">SetEntityID</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="classCUnit.html#aa05499e3256cf31eacdd3a712716a2e0">   80</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCUnit.html#aa05499e3256cf31eacdd3a712716a2e0">CUnit::SetEntitySelection</a>(<span class="keyword">const</span> CStr&amp; selection)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    CStr selection_lc = selection.LowerCase();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// If we&#39;ve already selected this, don&#39;t do anything</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">m_EntitySelections</a>.find(selection_lc) != <a class="code" href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">m_EntitySelections</a>.end())</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Just allow one selection at a time</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">m_EntitySelections</a>.clear();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">m_EntitySelections</a>.insert(selection_lc);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classCUnit.html#a3b2bb948b77e715b77fdf99652d49910">ReloadObject</a>();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;}</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classCUnit.html#a376221b344f9d690d2fc0be27367e668">   95</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCUnit.html#a376221b344f9d690d2fc0be27367e668">CUnit::SetActorSelections</a>(<span class="keyword">const</span> std::set&lt;CStr&gt;&amp; selections)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="classCUnit.html#a19a2c3adb28e76d2c003e0f7522cfda5">m_ActorSelections</a> = selections;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classCUnit.html#a3b2bb948b77e715b77fdf99652d49910">ReloadObject</a>();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classCUnit.html#a3b2bb948b77e715b77fdf99652d49910">  101</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classCUnit.html#a3b2bb948b77e715b77fdf99652d49910">CUnit::ReloadObject</a>()</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    std::vector&lt;std::set&lt;CStr&gt; &gt; selections;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// TODO: push world selections (seasons, etc) (and reload whenever they&#39;re changed)</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    selections.push_back(<a class="code" href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">m_EntitySelections</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    selections.push_back(<a class="code" href="classCUnit.html#a19a2c3adb28e76d2c003e0f7522cfda5">m_ActorSelections</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// randomly select any remain selections necessary to completely identify a variation (e.g., the new selection</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// made might define some additional props that require a random variant choice). Also, FindObjectVariation</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// expects the selectors passed to it to be complete.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="comment">// see http://trac.wildfiregames.com/ticket/979</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Use the entity ID as randomization seed (same as when the unit was first created)</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    std::set&lt;CStr&gt; remainingSelections = <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>-&gt;<a class="code" href="classCObjectEntry.html#a1310d2d8760b9c7c0320416f5b3eefc4">m_Base</a>-&gt;<a class="code" href="classCObjectBase.html#ab1464400b4784b2c63c0ed3ee257d76a">CalculateRandomRemainingSelections</a>(<a class="code" href="classCUnit.html#a787c76e7a16740c55566a53d0bbc75c3">m_Seed</a>, selections);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (!remainingSelections.empty())</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        selections.push_back(remainingSelections);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// If these selections give a different object, change this unit to use it</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <a class="code" href="classCObjectEntry.html">CObjectEntry</a>* newObject = <a class="code" href="classCUnit.html#a4cdb4f9ebbb3270cc754d697043c6061">m_ObjectManager</a>.<a class="code" href="classCObjectManager.html#a974ce4c8fec803385bc6cf5828ec0c99">FindObjectVariation</a>(<a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>-&gt;<a class="code" href="classCObjectEntry.html#a1310d2d8760b9c7c0320416f5b3eefc4">m_Base</a>, selections);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (newObject &amp;&amp; newObject != <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// Clone the new object&#39;s base (non-instance) model</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <a class="code" href="classCModelAbstract.html">CModelAbstract</a>* newModel = newObject-&gt;<a class="code" href="classCObjectEntry.html#a6329cbd806bcdd31d3e4f3f9b89968dc">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#a527f0cc00e27d295f01fc7ef14b9376d">Clone</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// Copy the old instance-specific settings from the old model to the new instance</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        newModel-&gt;<a class="code" href="classCRenderableObject.html#a5179ecf76d2ce9c583045c7513273240">SetTransform</a>(<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCRenderableObject.html#a9d12102bafde2cf3b0904dfca0fe76ec">GetTransform</a>());</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        newModel-&gt;<a class="code" href="classCModelAbstract.html#a0e1071e2d1420a5b7d70de77e1b67946">SetPlayerID</a>(<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#a4d49aa69cf0ec2c28972ec2c6f00482e">GetPlayerID</a>());</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">if</span> (newModel-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>() &amp;&amp; <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>())</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            newModel-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>()-&gt;<a class="code" href="classCModel.html#a3ea905770c7a07952822ad2fd5bc5ab3">CopyAnimationFrom</a>(<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="comment">// Copy flags that belong to this model instance (not those defined by the actor XML)</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordtype">int</span> instanceFlags = (<a class="code" href="Model_8h.html#a3ac7a3996f1e055b5c26db41dd5d78b1">MODELFLAG_SILHOUETTE_DISPLAY</a>|<a class="code" href="Model_8h.html#a38dadbc1cfc27abfc68b97bc6b52b677">MODELFLAG_SILHOUETTE_OCCLUDER</a>|<a class="code" href="Model_8h.html#ad24b8c5daba66645d5536f91fe2d762c">MODELFLAG_IGNORE_LOS</a>) &amp; <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>()-&gt;<a class="code" href="classCModel.html#a05fc71b08dc92e2cb17885cfa6004b21">GetFlags</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            newModel-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>()-&gt;<a class="code" href="classCModel.html#aa19d77b9ae99938368ab2f41f5eaaa61">AddFlagsRec</a>(instanceFlags);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keyword">delete</span> <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a> = newModel;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a> = newObject;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>-&gt;<a class="code" href="classCUnitAnimation.html#af7113ab5edfa54ad8667333721b7ecfa">ReloadUnit</a>(<a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>(), <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>); <span class="comment">// TODO: maybe this should try to preserve animation state?</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                <a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a> = <span class="keyword">new</span> <a class="code" href="classCUnit.html#accf32d3cb5893fbeb34e3808a66e94c7">CUnitAnimation</a>(<a class="code" href="classCUnit.html#a545740d6b8c1e317489bc949d3bff61e">m_ID</a>, <a class="code" href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">m_Model</a>-&gt;<a class="code" href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">ToCModel</a>(), <a class="code" href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">m_Object</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <a class="code" href="code__generation_8h.html#a9bbcd82e77c41df827c09759def05c9a">SAFE_DELETE</a>(<a class="code" href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">m_Animation</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="ttc" id="classCModelAbstract_html_a0e1071e2d1420a5b7d70de77e1b67946"><div class="ttname"><a href="classCModelAbstract.html#a0e1071e2d1420a5b7d70de77e1b67946">CModelAbstract::SetPlayerID</a></div><div class="ttdeci">virtual void SetPlayerID(player_id_t id)</div><div class="ttdef"><b>Definition:</b> <a href="ModelAbstract_8h_source.html#l00152">ModelAbstract.h:152</a></div></div>
<div class="ttc" id="classCUnit_html_a2b326b3671dc94ff4f85da768a937b8d"><div class="ttname"><a href="classCUnit.html#a2b326b3671dc94ff4f85da768a937b8d">CUnit::~CUnit</a></div><div class="ttdeci">~CUnit()</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00041">Unit.cpp:41</a></div></div>
<div class="ttc" id="classCUnit_html_aa05499e3256cf31eacdd3a712716a2e0"><div class="ttname"><a href="classCUnit.html#aa05499e3256cf31eacdd3a712716a2e0">CUnit::SetEntitySelection</a></div><div class="ttdeci">void SetEntitySelection(const CStr &amp;selection)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00080">Unit.cpp:80</a></div></div>
<div class="ttc" id="classCUnit_html_a19a2c3adb28e76d2c003e0f7522cfda5"><div class="ttname"><a href="classCUnit.html#a19a2c3adb28e76d2c003e0f7522cfda5">CUnit::m_ActorSelections</a></div><div class="ttdeci">std::set&lt; CStr &gt; m_ActorSelections</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00096">Unit.h:96</a></div></div>
<div class="ttc" id="UnitAnimation_8h_html"><div class="ttname"><a href="UnitAnimation_8h.html">UnitAnimation.h</a></div></div>
<div class="ttc" id="classCObjectManager_html_ac414618387fbabd4e1a6eaf410b18691"><div class="ttname"><a href="classCObjectManager.html#ac414618387fbabd4e1a6eaf410b18691">CObjectManager::FindObjectBase</a></div><div class="ttdeci">CObjectBase * FindObjectBase(const CStrW &amp;objname)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectManager_8cpp_source.html#l00075">ObjectManager.cpp:75</a></div></div>
<div class="ttc" id="classCObjectEntry_html_a1310d2d8760b9c7c0320416f5b3eefc4"><div class="ttname"><a href="classCObjectEntry.html#a1310d2d8760b9c7c0320416f5b3eefc4">CObjectEntry::m_Base</a></div><div class="ttdeci">CObjectBase * m_Base</div><div class="ttdef"><b>Definition:</b> <a href="ObjectEntry_8h_source.html#l00052">ObjectEntry.h:52</a></div></div>
<div class="ttc" id="classCUnit_html_a3b2bb948b77e715b77fdf99652d49910"><div class="ttname"><a href="classCUnit.html#a3b2bb948b77e715b77fdf99652d49910">CUnit::ReloadObject</a></div><div class="ttdeci">void ReloadObject()</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00101">Unit.cpp:101</a></div></div>
<div class="ttc" id="classCObjectManager_html"><div class="ttname"><a href="classCObjectManager.html">CObjectManager</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectManager_8h_source.html#l00037">ObjectManager.h:37</a></div></div>
<div class="ttc" id="classCRenderableObject_html_a5179ecf76d2ce9c583045c7513273240"><div class="ttname"><a href="classCRenderableObject.html#a5179ecf76d2ce9c583045c7513273240">CRenderableObject::SetTransform</a></div><div class="ttdeci">virtual void SetTransform(const CMatrix3D &amp;transform)</div><div class="ttdef"><b>Definition:</b> <a href="RenderableObject_8h_source.html#l00068">RenderableObject.h:68</a></div></div>
<div class="ttc" id="Model_8h_html"><div class="ttname"><a href="Model_8h.html">Model.h</a></div></div>
<div class="ttc" id="classCUnit_html"><div class="ttname"><a href="classCUnit.html">CUnit</a></div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00035">Unit.h:35</a></div></div>
<div class="ttc" id="classCModelAbstract_html_a527f0cc00e27d295f01fc7ef14b9376d"><div class="ttname"><a href="classCModelAbstract.html#a527f0cc00e27d295f01fc7ef14b9376d">CModelAbstract::Clone</a></div><div class="ttdeci">virtual CModelAbstract * Clone() const =0</div></div>
<div class="ttc" id="Model_8h_html_ad24b8c5daba66645d5536f91fe2d762c"><div class="ttname"><a href="Model_8h.html#ad24b8c5daba66645d5536f91fe2d762c">MODELFLAG_IGNORE_LOS</a></div><div class="ttdeci">#define MODELFLAG_IGNORE_LOS</div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00044">Model.h:44</a></div></div>
<div class="ttc" id="SkeletonAnimDef_8h_html"><div class="ttname"><a href="SkeletonAnimDef_8h.html">SkeletonAnimDef.h</a></div></div>
<div class="ttc" id="classCUnitAnimation_html_a60825c91a7d59a288de28e28b7aa8315"><div class="ttname"><a href="classCUnitAnimation.html#a60825c91a7d59a288de28e28b7aa8315">CUnitAnimation::SetEntityID</a></div><div class="ttdeci">void SetEntityID(entity_id_t ent)</div><div class="ttdoc">Change the entity ID associated with this animation (currently used for playing locational sound effe...</div><div class="ttdef"><b>Definition:</b> <a href="UnitAnimation_8cpp_source.html#l00050">UnitAnimation.cpp:50</a></div></div>
<div class="ttc" id="classCUnit_html_a787c76e7a16740c55566a53d0bbc75c3"><div class="ttname"><a href="classCUnit.html#a787c76e7a16740c55566a53d0bbc75c3">CUnit::m_Seed</a></div><div class="ttdeci">uint32_t m_Seed</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00093">Unit.h:93</a></div></div>
<div class="ttc" id="ObjectBase_8h_html"><div class="ttname"><a href="ObjectBase_8h.html">ObjectBase.h</a></div></div>
<div class="ttc" id="classCUnit_html_acbefb02078b203b4b45ec4ed7c2ed6e9"><div class="ttname"><a href="classCUnit.html#acbefb02078b203b4b45ec4ed7c2ed6e9">CUnit::CUnit</a></div><div class="ttdeci">CUnit(CObjectEntry *object, CObjectManager &amp;objectManager, const std::set&lt; CStr &gt; &amp;actorSelections, uint32_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00029">Unit.cpp:29</a></div></div>
<div class="ttc" id="classCObjectManager_html_a974ce4c8fec803385bc6cf5828ec0c99"><div class="ttname"><a href="classCObjectManager.html#a974ce4c8fec803385bc6cf5828ec0c99">CObjectManager::FindObjectVariation</a></div><div class="ttdeci">CObjectEntry * FindObjectVariation(const CStrW &amp;objname, const std::vector&lt; std::set&lt; CStr &gt; &gt; &amp;selections)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectManager_8cpp_source.html#l00110">ObjectManager.cpp:110</a></div></div>
<div class="ttc" id="classCUnitAnimation_html_a0682889d8fe902f3007a020be86d5ffd"><div class="ttname"><a href="classCUnitAnimation.html#a0682889d8fe902f3007a020be86d5ffd">CUnitAnimation::Update</a></div><div class="ttdeci">void Update(float time)</div><div class="ttdoc">Advance the animation state. </div><div class="ttdef"><b>Definition:</b> <a href="UnitAnimation_8cpp_source.html#l00148">UnitAnimation.cpp:148</a></div></div>
<div class="ttc" id="classCUnit_html_a545740d6b8c1e317489bc949d3bff61e"><div class="ttname"><a href="classCUnit.html#a545740d6b8c1e317489bc949d3bff61e">CUnit::m_ID</a></div><div class="ttdeci">entity_id_t m_ID</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00090">Unit.h:90</a></div></div>
<div class="ttc" id="classCUnit_html_a4cdb4f9ebbb3270cc754d697043c6061"><div class="ttname"><a href="classCUnit.html#a4cdb4f9ebbb3270cc754d697043c6061">CUnit::m_ObjectManager</a></div><div class="ttdeci">CObjectManager &amp; m_ObjectManager</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00101">Unit.h:101</a></div></div>
<div class="ttc" id="classCUnit_html_a376221b344f9d690d2fc0be27367e668"><div class="ttname"><a href="classCUnit.html#a376221b344f9d690d2fc0be27367e668">CUnit::SetActorSelections</a></div><div class="ttdeci">void SetActorSelections(const std::set&lt; CStr &gt; &amp;selections)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00095">Unit.cpp:95</a></div></div>
<div class="ttc" id="classCUnitAnimation_html_af7113ab5edfa54ad8667333721b7ecfa"><div class="ttname"><a href="classCUnitAnimation.html#af7113ab5edfa54ad8667333721b7ecfa">CUnitAnimation::ReloadUnit</a></div><div class="ttdeci">void ReloadUnit(CModel *model, const CObjectEntry *object)</div><div class="ttdoc">Regenerate internal animation state from the models in the current unit. </div><div class="ttdef"><b>Definition:</b> <a href="UnitAnimation_8cpp_source.html#l00086">UnitAnimation.cpp:86</a></div></div>
<div class="ttc" id="code__generation_8h_html_a9bbcd82e77c41df827c09759def05c9a"><div class="ttname"><a href="code__generation_8h.html#a9bbcd82e77c41df827c09759def05c9a">SAFE_DELETE</a></div><div class="ttdeci">#define SAFE_DELETE(p)</div><div class="ttdoc">delete memory ensuing from new and set the pointer to zero (thus making double-frees safe / a no-op) ...</div><div class="ttdef"><b>Definition:</b> <a href="code__generation_8h_source.html#l00111">code_generation.h:111</a></div></div>
<div class="ttc" id="classCUnit_html_a08c08c368e1543300e821d6fbb990098"><div class="ttname"><a href="classCUnit.html#a08c08c368e1543300e821d6fbb990098">CUnit::m_EntitySelections</a></div><div class="ttdeci">std::set&lt; CStr &gt; m_EntitySelections</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00098">Unit.h:98</a></div></div>
<div class="ttc" id="ObjectEntry_8h_html"><div class="ttname"><a href="ObjectEntry_8h.html">ObjectEntry.h</a></div></div>
<div class="ttc" id="classCUnit_html_a3f2577472c58a8cd1b1900b47c64131d"><div class="ttname"><a href="classCUnit.html#a3f2577472c58a8cd1b1900b47c64131d">CUnit::Create</a></div><div class="ttdeci">static CUnit * Create(const CStrW &amp;actorName, uint32_t seed, const std::set&lt; CStr &gt; &amp;selections, CObjectManager &amp;objectManager)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00047">Unit.cpp:47</a></div></div>
<div class="ttc" id="SkeletonAnim_8h_html"><div class="ttname"><a href="SkeletonAnim_8h.html">SkeletonAnim.h</a></div></div>
<div class="ttc" id="classCUnit_html_acd6ed8b51ae6cceeab9ad70e9741aae7"><div class="ttname"><a href="classCUnit.html#acd6ed8b51ae6cceeab9ad70e9741aae7">CUnit::m_Model</a></div><div class="ttdeci">CModelAbstract * m_Model</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00084">Unit.h:84</a></div></div>
<div class="ttc" id="classCModelAbstract_html_a4d49aa69cf0ec2c28972ec2c6f00482e"><div class="ttname"><a href="classCModelAbstract.html#a4d49aa69cf0ec2c28972ec2c6f00482e">CModelAbstract::GetPlayerID</a></div><div class="ttdeci">virtual player_id_t GetPlayerID() const </div><div class="ttdef"><b>Definition:</b> <a href="ModelAbstract_8h_source.html#l00155">ModelAbstract.h:155</a></div></div>
<div class="ttc" id="Model_8h_html_a3ac7a3996f1e055b5c26db41dd5d78b1"><div class="ttname"><a href="Model_8h.html#a3ac7a3996f1e055b5c26db41dd5d78b1">MODELFLAG_SILHOUETTE_DISPLAY</a></div><div class="ttdeci">#define MODELFLAG_SILHOUETTE_DISPLAY</div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00042">Model.h:42</a></div></div>
<div class="ttc" id="classCUnit_html_a91344f74f545b9790de0f519d2437be9"><div class="ttname"><a href="classCUnit.html#a91344f74f545b9790de0f519d2437be9">CUnit::m_Object</a></div><div class="ttdeci">CObjectEntry * m_Object</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00082">Unit.h:82</a></div></div>
<div class="ttc" id="ObjectManager_8h_html"><div class="ttname"><a href="ObjectManager_8h.html">ObjectManager.h</a></div></div>
<div class="ttc" id="classCModelAbstract_html"><div class="ttname"><a href="classCModelAbstract.html">CModelAbstract</a></div><div class="ttdoc">Abstract base class for graphical objects that are used by units, or as props attached to other CMode...</div><div class="ttdef"><b>Definition:</b> <a href="ModelAbstract_8h_source.html#l00036">ModelAbstract.h:36</a></div></div>
<div class="ttc" id="classCObjectBase_html_a81cea8459dc996cc0de310fdf3208cb0"><div class="ttname"><a href="classCObjectBase.html#a81cea8459dc996cc0de310fdf3208cb0">CObjectBase::CalculateRandomVariation</a></div><div class="ttdeci">std::set&lt; CStr &gt; CalculateRandomVariation(uint32_t seed, const std::set&lt; CStr &gt; &amp;initialSelections)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectBase_8cpp_source.html#l00467">ObjectBase.cpp:467</a></div></div>
<div class="ttc" id="wposix__types_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="wposix__types_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="wposix__types_8h_source.html#l00053">wposix_types.h:53</a></div></div>
<div class="ttc" id="classCObjectBase_html"><div class="ttname"><a href="classCObjectBase.html">CObjectBase</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectBase_8h_source.html#l00034">ObjectBase.h:34</a></div></div>
<div class="ttc" id="Unit_8h_html"><div class="ttname"><a href="Unit_8h.html">Unit.h</a></div></div>
<div class="ttc" id="classCObjectEntry_html_a6329cbd806bcdd31d3e4f3f9b89968dc"><div class="ttname"><a href="classCObjectEntry.html#a6329cbd806bcdd31d3e4f3f9b89968dc">CObjectEntry::m_Model</a></div><div class="ttdeci">CModelAbstract * m_Model</div><div class="ttdef"><b>Definition:</b> <a href="ObjectEntry_8h_source.html#l00074">ObjectEntry.h:74</a></div></div>
<div class="ttc" id="classCModelAbstract_html_ad004d44264855766f6a476c570728e30"><div class="ttname"><a href="classCModelAbstract.html#ad004d44264855766f6a476c570728e30">CModelAbstract::ToCModel</a></div><div class="ttdeci">virtual CModel * ToCModel()</div><div class="ttdoc">Dynamic cast. </div><div class="ttdef"><b>Definition:</b> <a href="ModelAbstract_8h_source.html#l00076">ModelAbstract.h:76</a></div></div>
<div class="ttc" id="classCRenderableObject_html_a9d12102bafde2cf3b0904dfca0fe76ec"><div class="ttname"><a href="classCRenderableObject.html#a9d12102bafde2cf3b0904dfca0fe76ec">CRenderableObject::GetTransform</a></div><div class="ttdeci">const CMatrix3D &amp; GetTransform() const </div><div class="ttdef"><b>Definition:</b> <a href="RenderableObject_8h_source.html#l00081">RenderableObject.h:81</a></div></div>
<div class="ttc" id="classCUnit_html_af90b20dd5399e689a888573bd39cdd45"><div class="ttname"><a href="classCUnit.html#af90b20dd5399e689a888573bd39cdd45">CUnit::SetID</a></div><div class="ttdeci">void SetID(entity_id_t id)</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00073">Unit.cpp:73</a></div></div>
<div class="ttc" id="Model_8h_html_a38dadbc1cfc27abfc68b97bc6b52b677"><div class="ttname"><a href="Model_8h.html#a38dadbc1cfc27abfc68b97bc6b52b677">MODELFLAG_SILHOUETTE_OCCLUDER</a></div><div class="ttdeci">#define MODELFLAG_SILHOUETTE_OCCLUDER</div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00043">Model.h:43</a></div></div>
<div class="ttc" id="simulation2_2system_2Entity_8h_html_a1367d00ed40eb3c86920997c86e70b59"><div class="ttname"><a href="simulation2_2system_2Entity_8h.html#a1367d00ed40eb3c86920997c86e70b59">INVALID_ENTITY</a></div><div class="ttdeci">const entity_id_t INVALID_ENTITY</div><div class="ttdoc">Invalid entity ID. </div><div class="ttdef"><b>Definition:</b> <a href="simulation2_2system_2Entity_8h_source.html#l00036">Entity.h:36</a></div></div>
<div class="ttc" id="classCUnit_html_acaf79d3a730b8b291d2b22e6178e3c56"><div class="ttname"><a href="classCUnit.html#acaf79d3a730b8b291d2b22e6178e3c56">CUnit::m_Animation</a></div><div class="ttdeci">CUnitAnimation * m_Animation</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00086">Unit.h:86</a></div></div>
<div class="ttc" id="simulation2_2system_2Entity_8h_html_a70961dc0512c70c6de7c8f95d4500260"><div class="ttname"><a href="simulation2_2system_2Entity_8h.html#a70961dc0512c70c6de7c8f95d4500260">entity_id_t</a></div><div class="ttdeci">u32 entity_id_t</div><div class="ttdoc">Entity ID type. </div><div class="ttdef"><b>Definition:</b> <a href="simulation2_2system_2Entity_8h_source.html#l00024">Entity.h:24</a></div></div>
<div class="ttc" id="classCUnit_html_aba44f830bb3a19c8172da4521bdef3be"><div class="ttname"><a href="classCUnit.html#aba44f830bb3a19c8172da4521bdef3be">CUnit::UpdateModel</a></div><div class="ttdeci">void UpdateModel(float frameTime)</div><div class="ttdoc">Update the model&amp;#39;s animation. </div><div class="ttdef"><b>Definition:</b> <a href="Unit_8cpp_source.html#l00067">Unit.cpp:67</a></div></div>
<div class="ttc" id="classCModel_html_a05fc71b08dc92e2cb17885cfa6004b21"><div class="ttname"><a href="classCModel.html#a05fc71b08dc92e2cb17885cfa6004b21">CModel::GetFlags</a></div><div class="ttdeci">int GetFlags() const </div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00123">Model.h:123</a></div></div>
<div class="ttc" id="classCObjectBase_html_ab1464400b4784b2c63c0ed3ee257d76a"><div class="ttname"><a href="classCObjectBase.html#ab1464400b4784b2c63c0ed3ee257d76a">CObjectBase::CalculateRandomRemainingSelections</a></div><div class="ttdeci">std::set&lt; CStr &gt; CalculateRandomRemainingSelections(uint32_t seed, const std::vector&lt; std::set&lt; CStr &gt; &gt; &amp;initialSelections)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectBase_8cpp_source.html#l00478">ObjectBase.cpp:478</a></div></div>
<div class="ttc" id="classCModel_html_a3ea905770c7a07952822ad2fd5bc5ab3"><div class="ttname"><a href="classCModel.html#a3ea905770c7a07952822ad2fd5bc5ab3">CModel::CopyAnimationFrom</a></div><div class="ttdeci">void CopyAnimationFrom(CModel *source)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00496">Model.cpp:496</a></div></div>
<div class="ttc" id="classCObjectEntry_html"><div class="ttname"><a href="classCObjectEntry.html">CObjectEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectEntry_8h_source.html#l00038">ObjectEntry.h:38</a></div></div>
<div class="ttc" id="classCUnit_html_accf32d3cb5893fbeb34e3808a66e94c7"><div class="ttname"><a href="classCUnit.html#accf32d3cb5893fbeb34e3808a66e94c7">CUnit::CUnitAnimation</a></div><div class="ttdeci">friend class CUnitAnimation</div><div class="ttdef"><b>Definition:</b> <a href="Unit_8h_source.html#l00105">Unit.h:105</a></div></div>
<div class="ttc" id="classCModel_html_aa19d77b9ae99938368ab2f41f5eaaa61"><div class="ttname"><a href="classCModel.html#aa19d77b9ae99938368ab2f41f5eaaa61">CModel::AddFlagsRec</a></div><div class="ttdeci">void AddFlagsRec(int flags)</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00624">Model.cpp:624</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 00:58:06 for Pyrogenesis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
