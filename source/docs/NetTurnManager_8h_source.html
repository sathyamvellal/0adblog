<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pyrogenesis: /home/sathyam/0ad.svn/source/network/NetTurnManager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pyrogenesis
   &#160;<span id="projectnumber">13997</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="dir_6c62e8f87e72d93ea9b0203c256b898b.html">network</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">NetTurnManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="NetTurnManager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Copyright (C) 2012 Wildfire Games.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * This file is part of 0 A.D.</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * 0 A.D. is free software: you can redistribute it and/or modify</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * the Free Software Foundation, either version 2 of the License, or</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * (at your option) any later version.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * 0 A.D. is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * along with 0 A.D.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#ifndef INCLUDED_NETTURNMANAGER</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define INCLUDED_NETTURNMANAGER</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SimulationCommand_8h.html">simulation2/helpers/SimulationCommand.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span><a class="code" href="classCNetServerWorker.html">CNetServerWorker</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">class </span><a class="code" href="classCNetClient.html">CNetClient</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">class </span><a class="code" href="classCSimulationMessage.html">CSimulationMessage</a>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">class </span><a class="code" href="classCSimulation2.html">CSimulation2</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">class </span><a class="code" href="classIReplayLogger.html">IReplayLogger</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * This file deals with the logic of the network turn system. The basic idea is as in</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * http://www.gamasutra.com/view/feature/3094/1500_archers_on_a_288_network_.php?print=1</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> * Each player performs the simulation for turn N.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * User input is translated into commands scheduled for execution in turn N+2 which are</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> * distributed to all other clients.</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"> * After a while, a player wants to perform the simulation for turn N+1,</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * which first requires that it has all the other clients&#39; commands for turn N+1.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> * In that case, it does the simulation and tells all the other clients (via the server)</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"> * it has finished sending commands for turn N+2, and it starts sending commands for turn N+3.</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"> * Commands are redistributed immediately by the server.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"> * To ensure a consistent execution of commands, they are each associated with a</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"> * client session ID (which is globally unique and consistent), which is used to sort them.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"> * Common network turn system (used by clients and offline games).</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html">   52</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCNetTurnManager.html">CNetTurnManager</a></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classCNetTurnManager.html#a6d05c7abe9f68c34ea14e7af144a5cac">NONCOPYABLE</a>(<a class="code" href="classCNetTurnManager.html">CNetTurnManager</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     * Construct for a given network session ID.</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classCNetTurnManager.html#a27ca2d3eb00c0c039841d71e0c75b552">CNetTurnManager</a>(<a class="code" href="classCSimulation2.html">CSimulation2</a>&amp; simulation, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> defaultTurnLength, <span class="keywordtype">int</span> clientId, <a class="code" href="classIReplayLogger.html">IReplayLogger</a>&amp; replay);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#adc1f614351a3f87ecea348feed890c35">   61</a></span>&#160;    <span class="keyword">virtual</span> <a class="code" href="classCNetTurnManager.html#adc1f614351a3f87ecea348feed890c35">~CNetTurnManager</a>() { }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#abfbfb83849cebac6501e01c511770033">ResetState</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> newCurrentTurn, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> newReadyTurn);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     * Set the current user&#39;s player ID, which will be added into command messages.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a9fab0c0056cd35f00c4efbe8af08b815">SetPlayerID</a>(<span class="keywordtype">int</span> playerId);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * Advance the simulation by a certain time. If this brings us past the current</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     * turn length, the next turns are processed and the function returns true.</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     * Otherwise, nothing happens and it returns false.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     * </span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     * @param simFrameLength Length of the previous frame, in simulation seconds</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">     * @param maxTurns Maximum number of turns to simulate at once</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCNetTurnManager.html#a866b02aec8d2d4ff45dae38d36e34972">Update</a>(<span class="keywordtype">float</span> simFrameLength, <span class="keywordtype">size_t</span> maxTurns);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * Advance the simulation by as much as possible. Intended for catching up</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     * over a small number of turns when rejoining a multiplayer match.</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">     * Returns true if it advanced by at least one turn.</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCNetTurnManager.html#ab221b423e36fc2a70ad592215e996069">UpdateFastForward</a>();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">     * Returns whether Update(simFrameLength, ...) will process at least one new turn.</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">     * @param simFrameLength Length of the previous frame, in simulation seconds</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCNetTurnManager.html#abeee0c40324ee1c0397107b5b99fbd30">WillUpdate</a>(<span class="keywordtype">float</span> simFrameLength);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">     * Advance the graphics by a certain time.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">     * @param simFrameLength Length of the previous frame, in simulation seconds</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">     * @param realFrameLength Length of the previous frame, in real time seconds</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#ab893669863d3062b899cb5a528fcdba8">Interpolate</a>(<span class="keywordtype">float</span> simFrameLength, <span class="keywordtype">float</span> realFrameLength);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">     * Called by networking code when a simulation message is received.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a9ddbbb0d95f873c1e3cd93a6793ba830">OnSimulationMessage</a>(<a class="code" href="classCSimulationMessage.html">CSimulationMessage</a>* msg) = 0;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">     * Called when there has been an out-of-sync error.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#acb252ef2f7e122e3ac0383bb023773d8">OnSyncError</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn, <span class="keyword">const</span> std::string&amp; expectedHash);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">     * Called by simulation code, to add a new command to be distributed to all clients and executed soon.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a89cbf0abb2aa9e828c5285641ded22e7">PostCommand</a>(<a class="code" href="classCScriptValRooted.html">CScriptValRooted</a> data) = 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">     * Called when all commands for a given turn have been received.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">     * This allows Update to progress to that turn.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#ad54a33cd81181c42bb89825b1bc1bb1b">FinishedAllCommands</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turnLength);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">     * Enables the recording of state snapshots every @p numTurns,</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     * which can be jumped back to via RewindTimeWarp().</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment">     * If @p numTurns is 0 then recording is disabled.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a002b95d156ff1ae6b5fdacc0350d54d4">EnableTimeWarpRecording</a>(<span class="keywordtype">size_t</span> numTurns);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * Jumps back to the latest recorded state snapshot (if any).</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a659aa163d3312aa1b6db5ee4c41afd1d">RewindTimeWarp</a>();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#ac15f462e82f5626d2f6f44f619f3eb39">QuickSave</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#aeceb4962ea10c2a94c28c126d14e337f">QuickLoad</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a4f084e1db8d58091e9a4b63fea097f88">  136</a></span>&#160;    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetTurnManager.html#a4f084e1db8d58091e9a4b63fea097f88">GetCurrentTurn</a>() { <span class="keywordflow">return</span> <a class="code" href="classCNetTurnManager.html#ae24a8712383a48b2c76f343b3176c44b">m_CurrentTurn</a>; }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="keyword">protected</span>:<span class="comment"></span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * Store a command to be executed at a given turn.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#ab53e8892462b8e5de347dbc795ac9280">AddCommand</a>(<span class="keywordtype">int</span> client, <span class="keywordtype">int</span> player, <a class="code" href="classCScriptValRooted.html">CScriptValRooted</a> data, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     * Called when this client has finished sending all its commands scheduled for the given turn.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#af65a55a54c765afee6a862dc2e450f8a">NotifyFinishedOwnCommands</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn) = 0;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">     * Called when this client has finished a simulation update.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetTurnManager.html#a8ba46fee517d8f0f269d4154fa230757">NotifyFinishedUpdate</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn) = 0;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">     * Returns whether we should compute a complete state hash for the given turn,</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     * instead of a quick less-complete hash.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCNetTurnManager.html#af93eccb0413b4b12523a4345c9bb0c19">TurnNeedsFullHash</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#ae7965b8b80e941a193cf537dd6f7d139">  160</a></span>&#160;    <a class="code" href="classCSimulation2.html">CSimulation2</a>&amp; <a class="code" href="classCNetTurnManager.html#ae7965b8b80e941a193cf537dd6f7d139">m_Simulation2</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">    /// The turn that we have most recently executed</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#ae24a8712383a48b2c76f343b3176c44b">  163</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetTurnManager.html#ae24a8712383a48b2c76f343b3176c44b">m_CurrentTurn</a>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment">    /// The latest turn for which we have received all commands from all clients</span></div>
<div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a4a4ab0dc2050bfd4999edeecdaff57c0">  166</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetTurnManager.html#a4a4ab0dc2050bfd4999edeecdaff57c0">m_ReadyTurn</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="comment">// Current turn length</span></div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a5e41c47c3a3a776522402b7c3bd802d2">  169</a></span>&#160;    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetTurnManager.html#a5e41c47c3a3a776522402b7c3bd802d2">m_TurnLength</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">    /// Commands queued at each turn (index 0 is for m_CurrentTurn+1)</span></div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#af1ee1fda9f1d056de543c8022df77e76">  172</a></span>&#160;<span class="comment"></span>    std::deque&lt;std::map&lt;u32, std::vector&lt;SimulationCommand&gt; &gt; &gt; <a class="code" href="classCNetTurnManager.html#af1ee1fda9f1d056de543c8022df77e76">m_QueuedCommands</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a0e160d86eae93020770c16e7c53ccfb5">  174</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="classCNetTurnManager.html#a0e160d86eae93020770c16e7c53ccfb5">m_PlayerId</a>;</div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a48c864bb2c41e00278cdb882d305d8ce">  175</a></span>&#160;    uint <a class="code" href="classCNetTurnManager.html#a48c864bb2c41e00278cdb882d305d8ce">m_ClientId</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">    /// Simulation time remaining until we ought to execute the next turn (as a negative value to</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">    /// add elapsed time increments to until we reach 0).</span></div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#aecb627e6330c0601b22bed7ba380322f">  179</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="classCNetTurnManager.html#aecb627e6330c0601b22bed7ba380322f">m_DeltaSimTime</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a730a8f64fec58fe78193b71ef6b22dd2">  181</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCNetTurnManager.html#a730a8f64fec58fe78193b71ef6b22dd2">m_HasSyncError</a>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#a1410147f5fca3117d8d17064f52024d9">  183</a></span>&#160;    <a class="code" href="classIReplayLogger.html">IReplayLogger</a>&amp; <a class="code" href="classCNetTurnManager.html#a1410147f5fca3117d8d17064f52024d9">m_Replay</a>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#af6c7649713ef588bbc268941848fa9cb">  186</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classCNetTurnManager.html#af6c7649713ef588bbc268941848fa9cb">m_TimeWarpNumTurns</a>; <span class="comment">// 0 if disabled</span></div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#aa06b4752e78ca425c8c73a5bebb5c2d7">  187</a></span>&#160;    std::list&lt;std::string&gt; <a class="code" href="classCNetTurnManager.html#aa06b4752e78ca425c8c73a5bebb5c2d7">m_TimeWarpStates</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#aae83275745be83029617d272faca789f">  188</a></span>&#160;    std::string <a class="code" href="classCNetTurnManager.html#aae83275745be83029617d272faca789f">m_QuickSaveState</a>; <span class="comment">// TODO: should implement a proper disk-based quicksave system</span></div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="classCNetTurnManager.html#af1431a4848c06f03fcf47d4ce0c953af">  189</a></span>&#160;    std::string <a class="code" href="classCNetTurnManager.html#af1431a4848c06f03fcf47d4ce0c953af">m_QuickSaveMetadata</a>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;};</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> * Implementation of CNetTurnManager for network clients.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classCNetClientTurnManager.html">  195</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCNetClientTurnManager.html">CNetClientTurnManager</a> : <span class="keyword">public</span> <a class="code" href="classCNetTurnManager.html">CNetTurnManager</a></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classCNetClientTurnManager.html#a986a9b6372984820cc6e1e19ee043c9b">CNetClientTurnManager</a>(<a class="code" href="classCSimulation2.html">CSimulation2</a>&amp; simulation, <a class="code" href="classCNetClient.html">CNetClient</a>&amp; client, <span class="keywordtype">int</span> clientId, <a class="code" href="classIReplayLogger.html">IReplayLogger</a>&amp; replay);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetClientTurnManager.html#a4a5a66fd3e494d9ca882f5e73c0464f4">OnSimulationMessage</a>(<a class="code" href="classCSimulationMessage.html">CSimulationMessage</a>* msg);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetClientTurnManager.html#adc59c3ba25fc4f23ce4c510836a5e370">PostCommand</a>(<a class="code" href="classCScriptValRooted.html">CScriptValRooted</a> data);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetClientTurnManager.html#af8f18fd833deead93ad34db7f29fca01">NotifyFinishedOwnCommands</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetClientTurnManager.html#a6bd75354e8dbabdea987e35f457a1c80">NotifyFinishedUpdate</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classCNetClientTurnManager.html#afa882dc7e5caa8b6295830ef5f6e2d6d">  209</a></span>&#160;    <a class="code" href="classCNetClient.html">CNetClient</a>&amp; <a class="code" href="classCNetClientTurnManager.html#afa882dc7e5caa8b6295830ef5f6e2d6d">m_NetClient</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;};</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> * Implementation of CNetTurnManager for offline games.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classCNetLocalTurnManager.html">  215</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCNetLocalTurnManager.html">CNetLocalTurnManager</a> : <span class="keyword">public</span> <a class="code" href="classCNetTurnManager.html">CNetTurnManager</a></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classCNetLocalTurnManager.html#a4103761235ec2fb56d7363dfd275db49">CNetLocalTurnManager</a>(<a class="code" href="classCSimulation2.html">CSimulation2</a>&amp; simulation, <a class="code" href="classIReplayLogger.html">IReplayLogger</a>&amp; replay);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetLocalTurnManager.html#afaa9a3b3df2cc783426a0432fab57eab">OnSimulationMessage</a>(<a class="code" href="classCSimulationMessage.html">CSimulationMessage</a>* msg);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetLocalTurnManager.html#a90f50b6c6e0c0ae82fcc3226887a8bd1">PostCommand</a>(<a class="code" href="classCScriptValRooted.html">CScriptValRooted</a> data);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetLocalTurnManager.html#a5ce8d8b38150f4dd205b3ff94f1a32c2">NotifyFinishedOwnCommands</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCNetLocalTurnManager.html#a28d35b53ab827d6a02ca297993e34d1f">NotifyFinishedUpdate</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;};</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment"> * The server-side counterpart to CNetClientTurnManager.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"> * Records the turn state of each client, and sends turn advancement messages</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment"> * when all clients are ready.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"> * Thread-safety:</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"> * - This is constructed and used by CNetServerWorker in the network server thread.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html">  239</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCNetServerTurnManager.html">CNetServerTurnManager</a></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classCNetServerTurnManager.html#ab723c3aaafed69407899a3f3de0c3c06">NONCOPYABLE</a>(<a class="code" href="classCNetServerTurnManager.html">CNetServerTurnManager</a>);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="classCNetServerTurnManager.html#ad416b52fec89912db481c65d183ef7db">CNetServerTurnManager</a>(<a class="code" href="classCNetServerWorker.html">CNetServerWorker</a>&amp; server);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#af54b7d28e6a5b2b6fb6b8737721df4a7">NotifyFinishedClientCommands</a>(<span class="keywordtype">int</span> client, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#ad6cb25563e8e951f18393cf80eb33a13">NotifyFinishedClientUpdate</a>(<span class="keywordtype">int</span> client, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn, <span class="keyword">const</span> std::string&amp; hash);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     * Inform the turn manager of a new client who will be sending commands.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#aad3365cff1a33d3918511dc4464e7aee">InitialiseClient</a>(<span class="keywordtype">int</span> client, <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">     * Inform the turn manager that a previously-initialised client has left the game</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">     * and will no longer be sending commands.</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#a7d58f3b5070ba26e16c7ef6a9ad3a2ec">UninitialiseClient</a>(<span class="keywordtype">int</span> client);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#af59781db3427839105a7d205e7468801">SetTurnLength</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> msecs);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">     * Returns the latest turn for which all clients are ready;</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">     * they will have already been told to execute this turn.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a05854ea1bb5007bb792ec1093ad26936">  266</a></span>&#160;    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetServerTurnManager.html#a05854ea1bb5007bb792ec1093ad26936">GetReadyTurn</a>() { <span class="keywordflow">return</span> <a class="code" href="classCNetServerTurnManager.html#a84d7a87a7959b343359d9952f83e74a9">m_ReadyTurn</a>; }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">     * Returns the turn length that was used for the given turn.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">     * Requires turn &lt;= GetReadyTurn().</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetServerTurnManager.html#a77c7e2a087f9f0611d52555c3b82eb2c">GetSavedTurnLength</a>(<a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> turn);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCNetServerTurnManager.html#a16116166b24dbabd8d4bc40e5cfd2513">CheckClientsReady</a>();</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">    /// The latest turn for which we have received all commands from all clients</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a84d7a87a7959b343359d9952f83e74a9">  278</a></span>&#160;<span class="comment"></span>    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetServerTurnManager.html#a84d7a87a7959b343359d9952f83e74a9">m_ReadyTurn</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// Client ID -&gt; ready turn number (the latest turn for which all commands have been received from that client)</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a5fd496ecf85fb1d1b1403217b72fa515">  281</a></span>&#160;    std::map&lt;int, u32&gt; <a class="code" href="classCNetServerTurnManager.html#a5fd496ecf85fb1d1b1403217b72fa515">m_ClientsReady</a>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// Client ID -&gt; last known simulated turn number (for which we have the state hash)</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// (the client has reached the start of this turn, not done the update for it yet)</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a003fd3f2f919d02dbd319ceea7a6c174">  285</a></span>&#160;    std::map&lt;int, u32&gt; <a class="code" href="classCNetServerTurnManager.html#a003fd3f2f919d02dbd319ceea7a6c174">m_ClientsSimulated</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="comment">// Map of turn -&gt; {Client ID -&gt; state hash}; old indexes &lt;= min(m_ClientsSimulated) are deleted</span></div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a672579aa471621a7a0a8ba7587c9732d">  288</a></span>&#160;    std::map&lt;u32, std::map&lt;int, std::string&gt; &gt; <a class="code" href="classCNetServerTurnManager.html#a672579aa471621a7a0a8ba7587c9732d">m_ClientStateHashes</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// Current turn length</span></div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#adedbd62794b5f1ae710c4790897a2671">  291</a></span>&#160;    <a class="code" href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a> <a class="code" href="classCNetServerTurnManager.html#adedbd62794b5f1ae710c4790897a2671">m_TurnLength</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Turn lengths for all previously executed turns</span></div>
<div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#aa6714c7b787c9a05f1910409860fde7b">  294</a></span>&#160;    std::vector&lt;u32&gt; <a class="code" href="classCNetServerTurnManager.html#aa6714c7b787c9a05f1910409860fde7b">m_SavedTurnLengths</a>;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classCNetServerTurnManager.html#a7176d8d423cda9ed32f513daa0202374">  296</a></span>&#160;    <a class="code" href="classCNetServerWorker.html">CNetServerWorker</a>&amp; <a class="code" href="classCNetServerTurnManager.html#a7176d8d423cda9ed32f513daa0202374">m_NetServer</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;};</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">#endif // INCLUDED_NETTURNMANAGER</span></div>
<div class="ttc" id="classCNetServerTurnManager_html_a672579aa471621a7a0a8ba7587c9732d"><div class="ttname"><a href="classCNetServerTurnManager.html#a672579aa471621a7a0a8ba7587c9732d">CNetServerTurnManager::m_ClientStateHashes</a></div><div class="ttdeci">std::map&lt; u32, std::map&lt; int, std::string &gt; &gt; m_ClientStateHashes</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00288">NetTurnManager.h:288</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a27ca2d3eb00c0c039841d71e0c75b552"><div class="ttname"><a href="classCNetTurnManager.html#a27ca2d3eb00c0c039841d71e0c75b552">CNetTurnManager::CNetTurnManager</a></div><div class="ttdeci">CNetTurnManager(CSimulation2 &amp;simulation, u32 defaultTurnLength, int clientId, IReplayLogger &amp;replay)</div><div class="ttdoc">Construct for a given network session ID. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00060">NetTurnManager.cpp:60</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a5e41c47c3a3a776522402b7c3bd802d2"><div class="ttname"><a href="classCNetTurnManager.html#a5e41c47c3a3a776522402b7c3bd802d2">CNetTurnManager::m_TurnLength</a></div><div class="ttdeci">u32 m_TurnLength</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00169">NetTurnManager.h:169</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_aa6714c7b787c9a05f1910409860fde7b"><div class="ttname"><a href="classCNetServerTurnManager.html#aa6714c7b787c9a05f1910409860fde7b">CNetServerTurnManager::m_SavedTurnLengths</a></div><div class="ttdeci">std::vector&lt; u32 &gt; m_SavedTurnLengths</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00294">NetTurnManager.h:294</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html_a986a9b6372984820cc6e1e19ee043c9b"><div class="ttname"><a href="classCNetClientTurnManager.html#a986a9b6372984820cc6e1e19ee043c9b">CNetClientTurnManager::CNetClientTurnManager</a></div><div class="ttdeci">CNetClientTurnManager(CSimulation2 &amp;simulation, CNetClient &amp;client, int clientId, IReplayLogger &amp;replay)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00373">NetTurnManager.cpp:373</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_ab723c3aaafed69407899a3f3de0c3c06"><div class="ttname"><a href="classCNetServerTurnManager.html#ab723c3aaafed69407899a3f3de0c3c06">CNetServerTurnManager::NONCOPYABLE</a></div><div class="ttdeci">NONCOPYABLE(CNetServerTurnManager)</div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a7d58f3b5070ba26e16c7ef6a9ad3a2ec"><div class="ttname"><a href="classCNetServerTurnManager.html#a7d58f3b5070ba26e16c7ef6a9ad3a2ec">CNetServerTurnManager::UninitialiseClient</a></div><div class="ttdeci">void UninitialiseClient(int client)</div><div class="ttdoc">Inform the turn manager that a previously-initialised client has left the game and will no longer be ...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00574">NetTurnManager.cpp:574</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a0e160d86eae93020770c16e7c53ccfb5"><div class="ttname"><a href="classCNetTurnManager.html#a0e160d86eae93020770c16e7c53ccfb5">CNetTurnManager::m_PlayerId</a></div><div class="ttdeci">int m_PlayerId</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00174">NetTurnManager.h:174</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_adc1f614351a3f87ecea348feed890c35"><div class="ttname"><a href="classCNetTurnManager.html#adc1f614351a3f87ecea348feed890c35">CNetTurnManager::~CNetTurnManager</a></div><div class="ttdeci">virtual ~CNetTurnManager()</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00061">NetTurnManager.h:61</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html_a4103761235ec2fb56d7363dfd275db49"><div class="ttname"><a href="classCNetLocalTurnManager.html#a4103761235ec2fb56d7363dfd275db49">CNetLocalTurnManager::CNetLocalTurnManager</a></div><div class="ttdeci">CNetLocalTurnManager(CSimulation2 &amp;simulation, IReplayLogger &amp;replay)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00430">NetTurnManager.cpp:430</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html_af8f18fd833deead93ad34db7f29fca01"><div class="ttname"><a href="classCNetClientTurnManager.html#af8f18fd833deead93ad34db7f29fca01">CNetClientTurnManager::NotifyFinishedOwnCommands</a></div><div class="ttdeci">virtual void NotifyFinishedOwnCommands(u32 turn)</div><div class="ttdoc">Called when this client has finished sending all its commands scheduled for the given turn...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00391">NetTurnManager.cpp:391</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a730a8f64fec58fe78193b71ef6b22dd2"><div class="ttname"><a href="classCNetTurnManager.html#a730a8f64fec58fe78193b71ef6b22dd2">CNetTurnManager::m_HasSyncError</a></div><div class="ttdeci">bool m_HasSyncError</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00181">NetTurnManager.h:181</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_aa06b4752e78ca425c8c73a5bebb5c2d7"><div class="ttname"><a href="classCNetTurnManager.html#aa06b4752e78ca425c8c73a5bebb5c2d7">CNetTurnManager::m_TimeWarpStates</a></div><div class="ttdeci">std::list&lt; std::string &gt; m_TimeWarpStates</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00187">NetTurnManager.h:187</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a002b95d156ff1ae6b5fdacc0350d54d4"><div class="ttname"><a href="classCNetTurnManager.html#a002b95d156ff1ae6b5fdacc0350d54d4">CNetTurnManager::EnableTimeWarpRecording</a></div><div class="ttdeci">void EnableTimeWarpRecording(size_t numTurns)</div><div class="ttdoc">Enables the recording of state snapshots every numTurns, which can be jumped back to via RewindTimeWa...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00300">NetTurnManager.cpp:300</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html_a5ce8d8b38150f4dd205b3ff94f1a32c2"><div class="ttname"><a href="classCNetLocalTurnManager.html#a5ce8d8b38150f4dd205b3ff94f1a32c2">CNetLocalTurnManager::NotifyFinishedOwnCommands</a></div><div class="ttdeci">virtual void NotifyFinishedOwnCommands(u32 turn)</div><div class="ttdoc">Called when this client has finished sending all its commands scheduled for the given turn...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00442">NetTurnManager.cpp:442</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_aecb627e6330c0601b22bed7ba380322f"><div class="ttname"><a href="classCNetTurnManager.html#aecb627e6330c0601b22bed7ba380322f">CNetTurnManager::m_DeltaSimTime</a></div><div class="ttdeci">float m_DeltaSimTime</div><div class="ttdoc">Simulation time remaining until we ought to execute the next turn (as a negative value to add elapsed...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00179">NetTurnManager.h:179</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_ad6cb25563e8e951f18393cf80eb33a13"><div class="ttname"><a href="classCNetServerTurnManager.html#ad6cb25563e8e951f18393cf80eb33a13">CNetServerTurnManager::NotifyFinishedClientUpdate</a></div><div class="ttdeci">void NotifyFinishedClientUpdate(int client, u32 turn, const std::string &amp;hash)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00518">NetTurnManager.cpp:518</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a4a4ab0dc2050bfd4999edeecdaff57c0"><div class="ttname"><a href="classCNetTurnManager.html#a4a4ab0dc2050bfd4999edeecdaff57c0">CNetTurnManager::m_ReadyTurn</a></div><div class="ttdeci">u32 m_ReadyTurn</div><div class="ttdoc">The latest turn for which we have received all commands from all clients. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00166">NetTurnManager.h:166</a></div></div>
<div class="ttc" id="classIReplayLogger_html"><div class="ttname"><a href="classIReplayLogger.html">IReplayLogger</a></div><div class="ttdoc">Replay log recorder interface. </div><div class="ttdef"><b>Definition:</b> <a href="Replay_8h_source.html#l00029">Replay.h:29</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html"><div class="ttname"><a href="classCNetLocalTurnManager.html">CNetLocalTurnManager</a></div><div class="ttdoc">Implementation of CNetTurnManager for offline games. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00215">NetTurnManager.h:215</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a77c7e2a087f9f0611d52555c3b82eb2c"><div class="ttname"><a href="classCNetServerTurnManager.html#a77c7e2a087f9f0611d52555c3b82eb2c">CNetServerTurnManager::GetSavedTurnLength</a></div><div class="ttdeci">u32 GetSavedTurnLength(u32 turn)</div><div class="ttdoc">Returns the turn length that was used for the given turn. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00592">NetTurnManager.cpp:592</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_aae83275745be83029617d272faca789f"><div class="ttname"><a href="classCNetTurnManager.html#aae83275745be83029617d272faca789f">CNetTurnManager::m_QuickSaveState</a></div><div class="ttdeci">std::string m_QuickSaveState</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00188">NetTurnManager.h:188</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html_a6bd75354e8dbabdea987e35f457a1c80"><div class="ttname"><a href="classCNetClientTurnManager.html#a6bd75354e8dbabdea987e35f457a1c80">CNetClientTurnManager::NotifyFinishedUpdate</a></div><div class="ttdeci">virtual void NotifyFinishedUpdate(u32 turn)</div><div class="ttdoc">Called when this client has finished a simulation update. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00402">NetTurnManager.cpp:402</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_adedbd62794b5f1ae710c4790897a2671"><div class="ttname"><a href="classCNetServerTurnManager.html#adedbd62794b5f1ae710c4790897a2671">CNetServerTurnManager::m_TurnLength</a></div><div class="ttdeci">u32 m_TurnLength</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00291">NetTurnManager.h:291</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a48c864bb2c41e00278cdb882d305d8ce"><div class="ttname"><a href="classCNetTurnManager.html#a48c864bb2c41e00278cdb882d305d8ce">CNetTurnManager::m_ClientId</a></div><div class="ttdeci">uint m_ClientId</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00175">NetTurnManager.h:175</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a1410147f5fca3117d8d17064f52024d9"><div class="ttname"><a href="classCNetTurnManager.html#a1410147f5fca3117d8d17064f52024d9">CNetTurnManager::m_Replay</a></div><div class="ttdeci">IReplayLogger &amp; m_Replay</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00183">NetTurnManager.h:183</a></div></div>
<div class="ttc" id="classCSimulation2_html"><div class="ttname"><a href="classCSimulation2.html">CSimulation2</a></div><div class="ttdoc">Public API for simulation system. </div><div class="ttdef"><b>Definition:</b> <a href="Simulation2_8h_source.html#l00046">Simulation2.h:46</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_abeee0c40324ee1c0397107b5b99fbd30"><div class="ttname"><a href="classCNetTurnManager.html#abeee0c40324ee1c0397107b5b99fbd30">CNetTurnManager::WillUpdate</a></div><div class="ttdeci">bool WillUpdate(float simFrameLength)</div><div class="ttdoc">Returns whether Update(simFrameLength, ...) will process at least one new turn. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00089">NetTurnManager.cpp:89</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html_a28d35b53ab827d6a02ca297993e34d1f"><div class="ttname"><a href="classCNetLocalTurnManager.html#a28d35b53ab827d6a02ca297993e34d1f">CNetLocalTurnManager::NotifyFinishedUpdate</a></div><div class="ttdeci">virtual void NotifyFinishedUpdate(u32 turn)</div><div class="ttdoc">Called when this client has finished a simulation update. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00447">NetTurnManager.cpp:447</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_af59781db3427839105a7d205e7468801"><div class="ttname"><a href="classCNetServerTurnManager.html#af59781db3427839105a7d205e7468801">CNetServerTurnManager::SetTurnLength</a></div><div class="ttdeci">void SetTurnLength(u32 msecs)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00587">NetTurnManager.cpp:587</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_af6c7649713ef588bbc268941848fa9cb"><div class="ttname"><a href="classCNetTurnManager.html#af6c7649713ef588bbc268941848fa9cb">CNetTurnManager::m_TimeWarpNumTurns</a></div><div class="ttdeci">size_t m_TimeWarpNumTurns</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00186">NetTurnManager.h:186</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a84d7a87a7959b343359d9952f83e74a9"><div class="ttname"><a href="classCNetServerTurnManager.html#a84d7a87a7959b343359d9952f83e74a9">CNetServerTurnManager::m_ReadyTurn</a></div><div class="ttdeci">u32 m_ReadyTurn</div><div class="ttdoc">The latest turn for which we have received all commands from all clients. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00278">NetTurnManager.h:278</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_aad3365cff1a33d3918511dc4464e7aee"><div class="ttname"><a href="classCNetServerTurnManager.html#aad3365cff1a33d3918511dc4464e7aee">CNetServerTurnManager::InitialiseClient</a></div><div class="ttdeci">void InitialiseClient(int client, u32 turn)</div><div class="ttdoc">Inform the turn manager of a new client who will be sending commands. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00565">NetTurnManager.cpp:565</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_acb252ef2f7e122e3ac0383bb023773d8"><div class="ttname"><a href="classCNetTurnManager.html#acb252ef2f7e122e3ac0383bb023773d8">CNetTurnManager::OnSyncError</a></div><div class="ttdeci">virtual void OnSyncError(u32 turn, const std::string &amp;expectedHash)</div><div class="ttdoc">Called when there has been an out-of-sync error. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00221">NetTurnManager.cpp:221</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_abfbfb83849cebac6501e01c511770033"><div class="ttname"><a href="classCNetTurnManager.html#abfbfb83849cebac6501e01c511770033">CNetTurnManager::ResetState</a></div><div class="ttdeci">void ResetState(u32 newCurrentTurn, u32 newReadyTurn)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00074">NetTurnManager.cpp:74</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a4f084e1db8d58091e9a4b63fea097f88"><div class="ttname"><a href="classCNetTurnManager.html#a4f084e1db8d58091e9a4b63fea097f88">CNetTurnManager::GetCurrentTurn</a></div><div class="ttdeci">u32 GetCurrentTurn()</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00136">NetTurnManager.h:136</a></div></div>
<div class="ttc" id="classCNetTurnManager_html"><div class="ttname"><a href="classCNetTurnManager.html">CNetTurnManager</a></div><div class="ttdoc">Common network turn system (used by clients and offline games). </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00052">NetTurnManager.h:52</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a8ba46fee517d8f0f269d4154fa230757"><div class="ttname"><a href="classCNetTurnManager.html#a8ba46fee517d8f0f269d4154fa230757">CNetTurnManager::NotifyFinishedUpdate</a></div><div class="ttdeci">virtual void NotifyFinishedUpdate(u32 turn)=0</div><div class="ttdoc">Called when this client has finished a simulation update. </div></div>
<div class="ttc" id="classCNetTurnManager_html_ab53e8892462b8e5de347dbc795ac9280"><div class="ttname"><a href="classCNetTurnManager.html#ab53e8892462b8e5de347dbc795ac9280">CNetTurnManager::AddCommand</a></div><div class="ttdeci">void AddCommand(int client, int player, CScriptValRooted data, u32 turn)</div><div class="ttdoc">Store a command to be executed at a given turn. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00259">NetTurnManager.cpp:259</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html_a90f50b6c6e0c0ae82fcc3226887a8bd1"><div class="ttname"><a href="classCNetLocalTurnManager.html#a90f50b6c6e0c0ae82fcc3226887a8bd1">CNetLocalTurnManager::PostCommand</a></div><div class="ttdeci">virtual void PostCommand(CScriptValRooted data)</div><div class="ttdoc">Called by simulation code, to add a new command to be distributed to all clients and executed soon...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00435">NetTurnManager.cpp:435</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html_adc59c3ba25fc4f23ce4c510836a5e370"><div class="ttname"><a href="classCNetClientTurnManager.html#adc59c3ba25fc4f23ce4c510836a5e370">CNetClientTurnManager::PostCommand</a></div><div class="ttdeci">virtual void PostCommand(CScriptValRooted data)</div><div class="ttdoc">Called by simulation code, to add a new command to be distributed to all clients and executed soon...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00378">NetTurnManager.cpp:378</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a6d05c7abe9f68c34ea14e7af144a5cac"><div class="ttname"><a href="classCNetTurnManager.html#a6d05c7abe9f68c34ea14e7af144a5cac">CNetTurnManager::NONCOPYABLE</a></div><div class="ttdeci">NONCOPYABLE(CNetTurnManager)</div></div>
<div class="ttc" id="classCNetTurnManager_html_af1ee1fda9f1d056de543c8022df77e76"><div class="ttname"><a href="classCNetTurnManager.html#af1ee1fda9f1d056de543c8022df77e76">CNetTurnManager::m_QueuedCommands</a></div><div class="ttdeci">std::deque&lt; std::map&lt; u32, std::vector&lt; SimulationCommand &gt; &gt; &gt; m_QueuedCommands</div><div class="ttdoc">Commands queued at each turn (index 0 is for m_CurrentTurn+1) </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00172">NetTurnManager.h:172</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a866b02aec8d2d4ff45dae38d36e34972"><div class="ttname"><a href="classCNetTurnManager.html#a866b02aec8d2d4ff45dae38d36e34972">CNetTurnManager::Update</a></div><div class="ttdeci">bool Update(float simFrameLength, size_t maxTurns)</div><div class="ttdoc">Advance the simulation by a certain time. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00102">NetTurnManager.cpp:102</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ad54a33cd81181c42bb89825b1bc1bb1b"><div class="ttname"><a href="classCNetTurnManager.html#ad54a33cd81181c42bb89825b1bc1bb1b">CNetTurnManager::FinishedAllCommands</a></div><div class="ttdeci">void FinishedAllCommands(u32 turn, u32 turnLength)</div><div class="ttdoc">Called when all commands for a given turn have been received. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00275">NetTurnManager.cpp:275</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_af54b7d28e6a5b2b6fb6b8737721df4a7"><div class="ttname"><a href="classCNetServerTurnManager.html#af54b7d28e6a5b2b6fb6b8737721df4a7">CNetServerTurnManager::NotifyFinishedClientCommands</a></div><div class="ttdeci">void NotifyFinishedClientCommands(int client, u32 turn)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00477">NetTurnManager.cpp:477</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a9fab0c0056cd35f00c4efbe8af08b815"><div class="ttname"><a href="classCNetTurnManager.html#a9fab0c0056cd35f00c4efbe8af08b815">CNetTurnManager::SetPlayerID</a></div><div class="ttdeci">void SetPlayerID(int playerId)</div><div class="ttdoc">Set the current user&amp;#39;s player ID, which will be added into command messages. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00084">NetTurnManager.cpp:84</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ab893669863d3062b899cb5a528fcdba8"><div class="ttname"><a href="classCNetTurnManager.html#ab893669863d3062b899cb5a528fcdba8">CNetTurnManager::Interpolate</a></div><div class="ttdeci">void Interpolate(float simFrameLength, float realFrameLength)</div><div class="ttdoc">Advance the graphics by a certain time. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00250">NetTurnManager.cpp:250</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a5fd496ecf85fb1d1b1403217b72fa515"><div class="ttname"><a href="classCNetServerTurnManager.html#a5fd496ecf85fb1d1b1403217b72fa515">CNetServerTurnManager::m_ClientsReady</a></div><div class="ttdeci">std::map&lt; int, u32 &gt; m_ClientsReady</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00281">NetTurnManager.h:281</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_ad416b52fec89912db481c65d183ef7db"><div class="ttname"><a href="classCNetServerTurnManager.html#ad416b52fec89912db481c65d183ef7db">CNetServerTurnManager::CNetServerTurnManager</a></div><div class="ttdeci">CNetServerTurnManager(CNetServerWorker &amp;server)</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00468">NetTurnManager.cpp:468</a></div></div>
<div class="ttc" id="types_8h_html_a332ccd83dfe2973e6cb2b61e4f3ab7e6"><div class="ttname"><a href="types_8h.html#a332ccd83dfe2973e6cb2b61e4f3ab7e6">u32</a></div><div class="ttdeci">#define u32</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00041">types.h:41</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a7176d8d423cda9ed32f513daa0202374"><div class="ttname"><a href="classCNetServerTurnManager.html#a7176d8d423cda9ed32f513daa0202374">CNetServerTurnManager::m_NetServer</a></div><div class="ttdeci">CNetServerWorker &amp; m_NetServer</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00296">NetTurnManager.h:296</a></div></div>
<div class="ttc" id="classCNetClient_html"><div class="ttname"><a href="classCNetClient.html">CNetClient</a></div><div class="ttdoc">Network client. </div><div class="ttdef"><b>Definition:</b> <a href="NetClient_8h_source.html#l00057">NetClient.h:57</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_af1431a4848c06f03fcf47d4ce0c953af"><div class="ttname"><a href="classCNetTurnManager.html#af1431a4848c06f03fcf47d4ce0c953af">CNetTurnManager::m_QuickSaveMetadata</a></div><div class="ttdeci">std::string m_QuickSaveMetadata</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00189">NetTurnManager.h:189</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ab221b423e36fc2a70ad592215e996069"><div class="ttname"><a href="classCNetTurnManager.html#ab221b423e36fc2a70ad592215e996069">CNetTurnManager::UpdateFastForward</a></div><div class="ttdeci">bool UpdateFastForward()</div><div class="ttdoc">Advance the simulation by as much as possible. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00182">NetTurnManager.cpp:182</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html"><div class="ttname"><a href="classCNetClientTurnManager.html">CNetClientTurnManager</a></div><div class="ttdoc">Implementation of CNetTurnManager for network clients. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00195">NetTurnManager.h:195</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ae24a8712383a48b2c76f343b3176c44b"><div class="ttname"><a href="classCNetTurnManager.html#ae24a8712383a48b2c76f343b3176c44b">CNetTurnManager::m_CurrentTurn</a></div><div class="ttdeci">u32 m_CurrentTurn</div><div class="ttdoc">The turn that we have most recently executed. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00163">NetTurnManager.h:163</a></div></div>
<div class="ttc" id="classCNetClientTurnManager_html_a4a5a66fd3e494d9ca882f5e73c0464f4"><div class="ttname"><a href="classCNetClientTurnManager.html#a4a5a66fd3e494d9ca882f5e73c0464f4">CNetClientTurnManager::OnSimulationMessage</a></div><div class="ttdeci">virtual void OnSimulationMessage(CSimulationMessage *msg)</div><div class="ttdoc">Called by networking code when a simulation message is received. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00423">NetTurnManager.cpp:423</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_af65a55a54c765afee6a862dc2e450f8a"><div class="ttname"><a href="classCNetTurnManager.html#af65a55a54c765afee6a862dc2e450f8a">CNetTurnManager::NotifyFinishedOwnCommands</a></div><div class="ttdeci">virtual void NotifyFinishedOwnCommands(u32 turn)=0</div><div class="ttdoc">Called when this client has finished sending all its commands scheduled for the given turn...</div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a003fd3f2f919d02dbd319ceea7a6c174"><div class="ttname"><a href="classCNetServerTurnManager.html#a003fd3f2f919d02dbd319ceea7a6c174">CNetServerTurnManager::m_ClientsSimulated</a></div><div class="ttdeci">std::map&lt; int, u32 &gt; m_ClientsSimulated</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00285">NetTurnManager.h:285</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a89cbf0abb2aa9e828c5285641ded22e7"><div class="ttname"><a href="classCNetTurnManager.html#a89cbf0abb2aa9e828c5285641ded22e7">CNetTurnManager::PostCommand</a></div><div class="ttdeci">virtual void PostCommand(CScriptValRooted data)=0</div><div class="ttdoc">Called by simulation code, to add a new command to be distributed to all clients and executed soon...</div></div>
<div class="ttc" id="classCNetClientTurnManager_html_afa882dc7e5caa8b6295830ef5f6e2d6d"><div class="ttname"><a href="classCNetClientTurnManager.html#afa882dc7e5caa8b6295830ef5f6e2d6d">CNetClientTurnManager::m_NetClient</a></div><div class="ttdeci">CNetClient &amp; m_NetClient</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00209">NetTurnManager.h:209</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ac15f462e82f5626d2f6f44f619f3eb39"><div class="ttname"><a href="classCNetTurnManager.html#ac15f462e82f5626d2f6f44f619f3eb39">CNetTurnManager::QuickSave</a></div><div class="ttdeci">void QuickSave()</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00322">NetTurnManager.cpp:322</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a16116166b24dbabd8d4bc40e5cfd2513"><div class="ttname"><a href="classCNetServerTurnManager.html#a16116166b24dbabd8d4bc40e5cfd2513">CNetServerTurnManager::CheckClientsReady</a></div><div class="ttdeci">void CheckClientsReady()</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00492">NetTurnManager.cpp:492</a></div></div>
<div class="ttc" id="classCNetLocalTurnManager_html_afaa9a3b3df2cc783426a0432fab57eab"><div class="ttname"><a href="classCNetLocalTurnManager.html#afaa9a3b3df2cc783426a0432fab57eab">CNetLocalTurnManager::OnSimulationMessage</a></div><div class="ttdeci">virtual void OnSimulationMessage(CSimulationMessage *msg)</div><div class="ttdoc">Called by networking code when a simulation message is received. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00460">NetTurnManager.cpp:460</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_aeceb4962ea10c2a94c28c126d14e337f"><div class="ttname"><a href="classCNetTurnManager.html#aeceb4962ea10c2a94c28c126d14e337f">CNetTurnManager::QuickLoad</a></div><div class="ttdeci">void QuickLoad()</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00344">NetTurnManager.cpp:344</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a9ddbbb0d95f873c1e3cd93a6793ba830"><div class="ttname"><a href="classCNetTurnManager.html#a9ddbbb0d95f873c1e3cd93a6793ba830">CNetTurnManager::OnSimulationMessage</a></div><div class="ttdeci">virtual void OnSimulationMessage(CSimulationMessage *msg)=0</div><div class="ttdoc">Called by networking code when a simulation message is received. </div></div>
<div class="ttc" id="classCNetServerTurnManager_html_a05854ea1bb5007bb792ec1093ad26936"><div class="ttname"><a href="classCNetServerTurnManager.html#a05854ea1bb5007bb792ec1093ad26936">CNetServerTurnManager::GetReadyTurn</a></div><div class="ttdeci">u32 GetReadyTurn()</div><div class="ttdoc">Returns the latest turn for which all clients are ready; they will have already been told to execute ...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00266">NetTurnManager.h:266</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_a659aa163d3312aa1b6db5ee4c41afd1d"><div class="ttname"><a href="classCNetTurnManager.html#a659aa163d3312aa1b6db5ee4c41afd1d">CNetTurnManager::RewindTimeWarp</a></div><div class="ttdeci">void RewindTimeWarp()</div><div class="ttdoc">Jumps back to the latest recorded state snapshot (if any). </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00306">NetTurnManager.cpp:306</a></div></div>
<div class="ttc" id="SimulationCommand_8h_html"><div class="ttname"><a href="SimulationCommand_8h.html">SimulationCommand.h</a></div></div>
<div class="ttc" id="classCNetServerWorker_html"><div class="ttname"><a href="classCNetServerWorker.html">CNetServerWorker</a></div><div class="ttdoc">Network server worker thread. </div><div class="ttdef"><b>Definition:</b> <a href="NetServer_8h_source.html#l00160">NetServer.h:160</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_af93eccb0413b4b12523a4345c9bb0c19"><div class="ttname"><a href="classCNetTurnManager.html#af93eccb0413b4b12523a4345c9bb0c19">CNetTurnManager::TurnNeedsFullHash</a></div><div class="ttdeci">bool TurnNeedsFullHash(u32 turn)</div><div class="ttdoc">Returns whether we should compute a complete state hash for the given turn, instead of a quick less-c...</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8cpp_source.html#l00284">NetTurnManager.cpp:284</a></div></div>
<div class="ttc" id="classCNetTurnManager_html_ae7965b8b80e941a193cf537dd6f7d139"><div class="ttname"><a href="classCNetTurnManager.html#ae7965b8b80e941a193cf537dd6f7d139">CNetTurnManager::m_Simulation2</a></div><div class="ttdeci">CSimulation2 &amp; m_Simulation2</div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00160">NetTurnManager.h:160</a></div></div>
<div class="ttc" id="classCNetServerTurnManager_html"><div class="ttname"><a href="classCNetServerTurnManager.html">CNetServerTurnManager</a></div><div class="ttdoc">The server-side counterpart to CNetClientTurnManager. </div><div class="ttdef"><b>Definition:</b> <a href="NetTurnManager_8h_source.html#l00239">NetTurnManager.h:239</a></div></div>
<div class="ttc" id="classCScriptValRooted_html"><div class="ttname"><a href="classCScriptValRooted.html">CScriptValRooted</a></div><div class="ttdef"><b>Definition:</b> <a href="ScriptVal_8h_source.html#l00049">ScriptVal.h:49</a></div></div>
<div class="ttc" id="classCSimulationMessage_html"><div class="ttname"><a href="classCSimulationMessage.html">CSimulationMessage</a></div><div class="ttdoc">Special message type for simulation commands. </div><div class="ttdef"><b>Definition:</b> <a href="NetMessage_8h_source.html#l00113">NetMessage.h:113</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 00:58:08 for Pyrogenesis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
