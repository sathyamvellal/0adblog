<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Pyrogenesis: InstancingModelRenderer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pyrogenesis
   &#160;<span id="projectnumber">13997</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classInstancingModelRenderer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">InstancingModelRenderer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Render non-animated (but potentially moving) models using a <a class="el" href="classShaderRenderModifier.html" title="A RenderModifier that sets uniforms and textures appropriately for rendering models. ">ShaderRenderModifier</a>.  
 <a href="classInstancingModelRenderer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="InstancingModelRenderer_8h_source.html">InstancingModelRenderer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for InstancingModelRenderer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classInstancingModelRenderer.png" usemap="#InstancingModelRenderer_map" alt=""/>
  <map id="InstancingModelRenderer_map" name="InstancingModelRenderer_map">
<area href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ..." alt="ModelVertexRenderer" shape="rect" coords="0,0,157,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4fab5f9bd2badd146894ab75d29d4d72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a4fab5f9bd2badd146894ab75d29d4d72">InstancingModelRenderer</a> (bool gpuSkinning, bool calculateTangents)</td></tr>
<tr class="separator:a4fab5f9bd2badd146894ab75d29d4d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a118554054c21e8909ce195335e87de30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a118554054c21e8909ce195335e87de30">~InstancingModelRenderer</a> ()</td></tr>
<tr class="separator:a118554054c21e8909ce195335e87de30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6139bde61ac486d5619c3acb18db8ff6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCModelRData.html">CModelRData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a6139bde61ac486d5619c3acb18db8ff6">CreateModelData</a> (const void *<a class="el" href="wpthread_8cpp.html#ac256ecc480ba7aaf877e07aed0a791bf">key</a>, <a class="el" href="classCModel.html">CModel</a> *model)</td></tr>
<tr class="memdesc:a6139bde61ac486d5619c3acb18db8ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">CreateModelData: Create internal data for one model.  <a href="#a6139bde61ac486d5619c3acb18db8ff6">More...</a><br/></td></tr>
<tr class="separator:a6139bde61ac486d5619c3acb18db8ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9523f8c6f559ec912c7d8f84c756be8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a9523f8c6f559ec912c7d8f84c756be8a">UpdateModelData</a> (<a class="el" href="classCModel.html">CModel</a> *model, <a class="el" href="classCModelRData.html">CModelRData</a> *data, int updateflags)</td></tr>
<tr class="memdesc:a9523f8c6f559ec912c7d8f84c756be8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">UpdateModelData: Calculate per-model data for each frame.  <a href="#a9523f8c6f559ec912c7d8f84c756be8a">More...</a><br/></td></tr>
<tr class="separator:a9523f8c6f559ec912c7d8f84c756be8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2c6f20537280517aa044350bb087d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a5d2c6f20537280517aa044350bb087d1">BeginPass</a> (int streamflags)</td></tr>
<tr class="memdesc:a5d2c6f20537280517aa044350bb087d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">BeginPass: Setup global OpenGL state for this <a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a>.  <a href="#a5d2c6f20537280517aa044350bb087d1">More...</a><br/></td></tr>
<tr class="separator:a5d2c6f20537280517aa044350bb087d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f8239ae43cad631903630c1e89a17c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a42f8239ae43cad631903630c1e89a17c">EndPass</a> (int streamflags)</td></tr>
<tr class="memdesc:a42f8239ae43cad631903630c1e89a17c"><td class="mdescLeft">&#160;</td><td class="mdescRight">EndPass: Cleanup OpenGL state set up by BeginPass.  <a href="#a42f8239ae43cad631903630c1e89a17c">More...</a><br/></td></tr>
<tr class="separator:a42f8239ae43cad631903630c1e89a17c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae011150ecd9adf17143c25df7ae71a07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#ae011150ecd9adf17143c25df7ae71a07">PrepareModelDef</a> (const <a class="el" href="ShaderProgram_8h.html#a6dca8a1ac13777131d29dc91d0ddb33a">CShaderProgramPtr</a> &amp;shader, int streamflags, const <a class="el" href="classCModelDef.html">CModelDef</a> &amp;def)</td></tr>
<tr class="memdesc:ae011150ecd9adf17143c25df7ae71a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">PrepareModelDef: Setup OpenGL state for rendering of models that use the given <a class="el" href="classCModelDef.html">CModelDef</a> object as base.  <a href="#ae011150ecd9adf17143c25df7ae71a07">More...</a><br/></td></tr>
<tr class="separator:ae011150ecd9adf17143c25df7ae71a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cfb1173e127f984146dfbddfcbd2f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a69cfb1173e127f984146dfbddfcbd2f5">RenderModel</a> (const <a class="el" href="ShaderProgram_8h.html#a6dca8a1ac13777131d29dc91d0ddb33a">CShaderProgramPtr</a> &amp;shader, int streamflags, <a class="el" href="classCModel.html">CModel</a> *model, <a class="el" href="classCModelRData.html">CModelRData</a> *data)</td></tr>
<tr class="memdesc:a69cfb1173e127f984146dfbddfcbd2f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">RenderModel: Invoke the rendering commands for the given model.  <a href="#a69cfb1173e127f984146dfbddfcbd2f5">More...</a><br/></td></tr>
<tr class="separator:a69cfb1173e127f984146dfbddfcbd2f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classModelVertexRenderer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classModelVertexRenderer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classModelVertexRenderer.html">ModelVertexRenderer</a></td></tr>
<tr class="memitem:a7f71adaeaf03902b33399b8629d9d9ce inherit pub_methods_classModelVertexRenderer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModelVertexRenderer.html#a7f71adaeaf03902b33399b8629d9d9ce">~ModelVertexRenderer</a> ()</td></tr>
<tr class="separator:a7f71adaeaf03902b33399b8629d9d9ce inherit pub_methods_classModelVertexRenderer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a04c49b3e632df0425daacf69d378c996"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structInstancingModelRendererInternals.html">InstancingModelRendererInternals</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInstancingModelRenderer.html#a04c49b3e632df0425daacf69d378c996">m</a></td></tr>
<tr class="separator:a04c49b3e632df0425daacf69d378c996"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Render non-animated (but potentially moving) models using a <a class="el" href="classShaderRenderModifier.html" title="A RenderModifier that sets uniforms and textures appropriately for rendering models. ">ShaderRenderModifier</a>. </p>
<p>This computes and binds per-vertex data; the modifier is responsible for setting any shader uniforms etc (including the instancing transform). </p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8h_source.html#l00035">35</a> of file <a class="el" href="InstancingModelRenderer_8h_source.html">InstancingModelRenderer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4fab5f9bd2badd146894ab75d29d4d72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstancingModelRenderer::InstancingModelRenderer </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gpuSkinning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>calculateTangents</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00265">265</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a118554054c21e8909ce195335e87de30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InstancingModelRenderer::~InstancingModelRenderer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00273">273</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5d2c6f20537280517aa044350bb087d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InstancingModelRenderer::BeginPass </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamflags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>BeginPass: Setup global OpenGL state for this <a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a>. </p>
<p><a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a> implementations should prepare "heavy" OpenGL state such as vertex shader state to prepare for rendering models and delivering vertex data to the fragment stage as described by streamflags.</p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this function before any calls to other rendering related functions.</p>
<p>Recursive calls to BeginPass are not allowed, and every BeginPass is matched by a corresponding call to EndPass.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamflags</td><td><a class="el" href="structVertex.html">Vertex</a> streams required by the fragment stage. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classModelVertexRenderer.html#aa3a8f7f5d7fe00c7ec5df30f515374fe">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00307">307</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6139bde61ac486d5619c3acb18db8ff6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCModelRData.html">CModelRData</a> * InstancingModelRenderer::CreateModelData </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModel.html">CModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CreateModelData: Create internal data for one model. </p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this once for every model that will later be rendered, with <code>key</code> set to a value that's unique to that <a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a>.</p>
<p><a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a> implementations should use this function to create per-CModel and per-CModelDef data like vertex arrays.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>An opaque pointer to pass to the <a class="el" href="classCModelRData.html" title="Class CModelRData: Render data that is maintained per CModel. ">CModelRData</a> constructor </td></tr>
    <tr><td class="paramname">model</td><td>The model.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new <a class="el" href="classCModelRData.html" title="Class CModelRData: Render data that is maintained per CModel. ">CModelRData</a> that will be passed into other <a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a> functions whenever the same <a class="el" href="classCModel.html">CModel</a> is used again. </dd></dl>

<p>Implements <a class="el" href="classModelVertexRenderer.html#a6eae9e0bd6c04a8704043d8a6b5a135d">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00280">280</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a42f8239ae43cad631903630c1e89a17c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InstancingModelRenderer::EndPass </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamflags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>EndPass: Cleanup OpenGL state set up by BeginPass. </p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this function after rendering related functions for one pass have been called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamflags</td><td><a class="el" href="structVertex.html">Vertex</a> streams required by the fragment stage. This equals the streamflags parameter passed on the last call to BeginPass. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classModelVertexRenderer.html#a5b7afc34d46d6b4236fca221f5e8c0b8">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00313">313</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae011150ecd9adf17143c25df7ae71a07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InstancingModelRenderer::PrepareModelDef </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ShaderProgram_8h.html#a6dca8a1ac13777131d29dc91d0ddb33a">CShaderProgramPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>shader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCModelDef.html">CModelDef</a> &amp;&#160;</td>
          <td class="paramname"><em>def</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>PrepareModelDef: Setup OpenGL state for rendering of models that use the given <a class="el" href="classCModelDef.html">CModelDef</a> object as base. </p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this function before rendering a sequence of models based on the given <a class="el" href="classCModelDef.html">CModelDef</a>. When a <a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> switches back and forth between CModelDefs, it must call PrepareModelDef for every switch.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamflags</td><td><a class="el" href="structVertex.html">Vertex</a> streams required by the fragment stage. This equals the streamflags parameter passed on the last call to BeginPass. </td></tr>
    <tr><td class="paramname">def</td><td>The model definition. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classModelVertexRenderer.html#a7bf981a8ab2a96a732f08a4c4247fe0f">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00320">320</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a69cfb1173e127f984146dfbddfcbd2f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InstancingModelRenderer::RenderModel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ShaderProgram_8h.html#a6dca8a1ac13777131d29dc91d0ddb33a">CShaderProgramPtr</a> &amp;&#160;</td>
          <td class="paramname"><em>shader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>streamflags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModel.html">CModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModelRData.html">CModelRData</a> *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>RenderModel: Invoke the rendering commands for the given model. </p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this function to perform the actual rendering.</p>
<p>preconditions : The most recent call to PrepareModelDef since BeginPass has been for model-&gt;GetModelDef().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">streamflags</td><td><a class="el" href="structVertex.html">Vertex</a> streams required by the fragment stage. This equals the streamflags parameter passed on the last call to BeginPass. </td></tr>
    <tr><td class="paramname">model</td><td>The model that should be rendered. </td></tr>
    <tr><td class="paramname">data</td><td>Private data for the model as returned by CreateModelData.</td></tr>
  </table>
  </dd>
</dl>
<p>postconditions : Subsequent calls to RenderModel for models that use the same <a class="el" href="classCModelDef.html">CModelDef</a> object and the same texture must succeed. </p>

<p>Implements <a class="el" href="classModelVertexRenderer.html#ac60f53d1786fc155958445c41aee84f2">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00358">358</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9523f8c6f559ec912c7d8f84c756be8a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void InstancingModelRenderer::UpdateModelData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModel.html">CModel</a> *&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModelRData.html">CModelRData</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>updateflags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UpdateModelData: Calculate per-model data for each frame. </p>
<p><a class="el" href="classModelRenderer.html" title="Class ModelRenderer: Abstract base class for all model renders. ">ModelRenderer</a> implementations must call this once per frame for every model that is to be rendered in this frame, even if the value of updateflags will be zero. This implies that this function will also be called at least once between a call to CreateModelData and a call to RenderModel.</p>
<p><a class="el" href="classModelVertexRenderer.html" title="Class ModelVertexRenderer: Normal ModelRenderer implementations delegate vertex array management and ...">ModelVertexRenderer</a> implementations should use this function to perform software vertex transforms and potentially other per-frame calculations.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The model. </td></tr>
    <tr><td class="paramname">data</td><td>Private data as returned by CreateModelData. </td></tr>
    <tr><td class="paramname">updateflags</td><td>Flags indicating which data has changed during the frame. The value is the same as the value of the model's <a class="el" href="classCRenderData.html#a32cce38733c9b76493886c6597d8390e">CRenderData::m_UpdateFlags</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classModelVertexRenderer.html#a0bc4b3993207b0b7394ccb1bc282688a">ModelVertexRenderer</a>.</p>

<p>Definition at line <a class="el" href="InstancingModelRenderer_8cpp_source.html#l00300">300</a> of file <a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a04c49b3e632df0425daacf69d378c996"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structInstancingModelRendererInternals.html">InstancingModelRendererInternals</a>* InstancingModelRenderer::m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="InstancingModelRenderer_8h_source.html#l00051">51</a> of file <a class="el" href="InstancingModelRenderer_8h_source.html">InstancingModelRenderer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sathyam/0ad.svn/source/renderer/<a class="el" href="InstancingModelRenderer_8h_source.html">InstancingModelRenderer.h</a></li>
<li>/home/sathyam/0ad.svn/source/renderer/<a class="el" href="InstancingModelRenderer_8cpp_source.html">InstancingModelRenderer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 14 2013 00:58:13 for Pyrogenesis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
